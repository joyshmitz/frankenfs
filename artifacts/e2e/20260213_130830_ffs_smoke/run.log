==============================================
E2E Test: ffs_smoke
==============================================
Started: 2026-02-13T13:08:30-05:00
Log directory: /data/projects/frankenfs/artifacts/e2e/20260213_130830_ffs_smoke
Temp directory: /data/tmp/ffs_e2e_jhWuEc


=== Environment ===
Time: 2026-02-13T13:08:30-05:00
System:
  Linux threadripperje 6.17.0-14-generic #14-Ubuntu SMP PREEMPT_DYNAMIC Fri Jan  9 17:01:16 UTC 2026 x86_64 GNU/Linux
  User: uid=1000(ubuntu) gid=1000(ubuntu) groups=1000(ubuntu),4(adm),24(cdrom),27(sudo),30(dip),44(video),46(plugdev),100(users),116(lpadmin),128(docker),991(render),995(input)

Rust toolchain:
  rustc 1.95.0-nightly (47611e160 2026-02-12)
  binary: rustc
  commit-hash: 47611e16044c68ef27bac31c35fda2ba1dc20b73
  commit-date: 2026-02-12
  host: x86_64-unknown-linux-gnu
  release: 1.95.0-nightly
  LLVM version: 22.1.0
  cargo 1.95.0-nightly (ce69df6f7 2026-02-12)

FUSE:
  crw-rw-rw- 1 root root 10, 229 Feb 10 19:34 /dev/fuse
  fusermount3 version: 3.17.4

Filesystem tools:
  mkfs.ext4: /usr/sbin/mkfs.ext4
  debugfs: /usr/sbin/debugfs


=== Phase 1: Build ===
Time: 2026-02-13T13:08:30-05:00
Running: cargo build --workspace
      Blocking waiting for file lock on artifact directory
     Compiling serde_json v1.0.149
     Compiling crossbeam-epoch v0.9.18
     Compiling ffs-types v0.1.0 (/data/projects/frankenfs/crates/ffs-types)
     Compiling ftui-layout v0.1.1 (/dp/frankentui/crates/ftui-layout)
     Compiling ffs-ondisk v0.1.0 (/data/projects/frankenfs/crates/ffs-ondisk)
     Compiling asupersync v0.1.1 (/dp/asupersync)
     Compiling ffs-btrfs v0.1.0 (/data/projects/frankenfs/crates/ffs-btrfs)
     Compiling ffs-ext4 v0.1.0 (/data/projects/frankenfs/crates/ffs-ext4)
     Compiling ftui-text v0.1.1 (/dp/frankentui/crates/ftui-text)
     Compiling ftui-runtime v0.1.1 (/dp/frankentui/crates/ftui-runtime)
     Compiling ftui-widgets v0.1.1 (/dp/frankentui/crates/ftui-widgets)
     Compiling ftui v0.1.1 (/dp/frankentui/crates/ftui)
     Compiling ffs-block v0.1.0 (/data/projects/frankenfs/crates/ffs-block)
     Compiling ffs-alloc v0.1.0 (/data/projects/frankenfs/crates/ffs-alloc)
     Compiling ffs-mvcc v0.1.0 (/data/projects/frankenfs/crates/ffs-mvcc)
     Compiling ffs-journal v0.1.0 (/data/projects/frankenfs/crates/ffs-journal)
     Compiling ffs-btree v0.1.0 (/data/projects/frankenfs/crates/ffs-btree)
     Compiling ffs-repair v0.1.0 (/data/projects/frankenfs/crates/ffs-repair)
     Compiling ffs-xattr v0.1.0 (/data/projects/frankenfs/crates/ffs-xattr)
     Compiling ffs-extent v0.1.0 (/data/projects/frankenfs/crates/ffs-extent)
     Compiling ffs-inode v0.1.0 (/data/projects/frankenfs/crates/ffs-inode)
     Compiling ffs-dir v0.1.0 (/data/projects/frankenfs/crates/ffs-dir)
     Compiling ffs-core v0.1.0 (/data/projects/frankenfs/crates/ffs-core)
     Compiling ffs-harness v0.1.0 (/data/projects/frankenfs/crates/ffs-harness)
     Compiling ffs v0.1.0 (/data/projects/frankenfs/crates/ffs)
     Compiling ffs-fuse v0.1.0 (/data/projects/frankenfs/crates/ffs-fuse)
     Compiling ffs-tui v0.1.0 (/data/projects/frankenfs/crates/ffs-tui)
     Compiling ffs-cli v0.1.0 (/data/projects/frankenfs/crates/ffs-cli)
      Finished `dev` profile [unoptimized + debuginfo] target(s) in 2m 51s
Exit code: 0 (duration: 171.415348668s)

=== Phase 2: Create Test Image ===
Time: 2026-02-13T13:11:21-05:00

=== Creating ext4 test image ===
Time: 2026-02-13T13:11:21-05:00
Path: /data/tmp/ffs_e2e_jhWuEc/e2e_test.ext4
Size: 16 MiB
Image created successfully

=== Phase 3: CLI Commands ===
Time: 2026-02-13T13:11:21-05:00
Testing: ffs inspect
Running: cargo run -p ffs-cli --release -- inspect /data/tmp/ffs_e2e_jhWuEc/e2e_test.ext4 --json
     Compiling cfg-if v1.0.4
     Compiling serde_core v1.0.228
     Compiling serde v1.0.228
     Compiling once_cell v1.21.3
     Compiling bitflags v2.10.0
     Compiling smallvec v1.15.1
     Compiling log v0.4.29
     Compiling num-traits v0.2.19
     Compiling crossbeam-utils v0.8.21
     Compiling equivalent v1.0.2
     Compiling pin-project-lite v0.2.16
     Compiling serde_json v1.0.149
     Compiling scopeguard v1.2.0
     Compiling cpufeatures v0.2.17
     Compiling memchr v2.8.0
     Compiling lazy_static v1.5.0
     Compiling hashbrown v0.16.1
     Compiling linux-raw-sys v0.11.0
     Compiling itoa v1.0.17
     Compiling fastrand v2.3.0
     Compiling nu-ansi-term v0.50.3
     Compiling slab v0.4.12
     Compiling base64 v0.22.1
     Compiling find-msvc-tools v0.1.9
     Compiling shlex v1.3.0
     Compiling zerocopy v0.8.39
     Compiling utf8parse v0.2.2
     Compiling fuser v0.16.0
     Compiling anyhow v1.0.101
     Compiling anstyle-query v1.1.5
     Compiling colorchoice v1.0.4
     Compiling anstyle v1.0.13
     Compiling is_terminal_polyfill v1.70.2
     Compiling arrayref v0.3.9
     Compiling strsim v0.11.1
     Compiling constant_time_eq v0.4.2
     Compiling arrayvec v0.7.6
     Compiling clap_lex v0.7.7
     Compiling heck v0.5.0
     Compiling hex v0.4.3
     Compiling libc v0.2.181
     Compiling typenum v1.19.0
     Compiling sharded-slab v0.1.7
     Compiling lock_api v0.4.14
     Compiling thread_local v1.1.9
     Compiling memoffset v0.9.1
     Compiling zmij v1.0.20
     Compiling anstyle-parse v0.2.7
     Compiling tracing-core v0.1.36
     Compiling crc32c v0.6.8
     Compiling thiserror v2.0.18
     Compiling pin-project v1.1.10
     Compiling cc v1.2.55
     Compiling anstream v0.6.21
     Compiling clap_derive v4.5.55
     Compiling rustix v1.1.3
     Compiling clap_builder v4.5.57
     Compiling tracing-log v0.2.0
     Compiling tracing v0.1.44
     Compiling crossbeam-queue v0.3.12
     Compiling crossbeam-epoch v0.9.18
     Compiling tracing-subscriber v0.3.22
     Compiling generic-array v0.14.7
     Compiling indexmap v2.13.0
     Compiling rmp v0.8.15
     Compiling blake3 v1.8.3
     Compiling crypto-common v0.1.7
     Compiling block-buffer v0.10.4
     Compiling digest v0.10.7
     Compiling sha1 v0.10.6
     Compiling getrandom v0.4.1
     Compiling nix v0.29.0
     Compiling parking_lot_core v0.9.12
     Compiling ffs-error v0.1.0 (/data/projects/frankenfs/crates/ffs-error)
     Compiling socket2 v0.6.2
     Compiling polling v2.8.0
     Compiling getrandom v0.3.4
     Compiling page_size v0.6.0
     Compiling parking_lot v0.12.5
     Compiling tempfile v3.25.0
     Compiling clap v4.5.57
     Compiling ffs-types v0.1.0 (/data/projects/frankenfs/crates/ffs-types)
     Compiling bincode v1.3.3
     Compiling rmp-serde v1.3.1
     Compiling ffs-ondisk v0.1.0 (/data/projects/frankenfs/crates/ffs-ondisk)
     Compiling asupersync v0.1.1 (/dp/asupersync)
     Compiling ffs-btrfs v0.1.0 (/data/projects/frankenfs/crates/ffs-btrfs)
     Compiling ffs-block v0.1.0 (/data/projects/frankenfs/crates/ffs-block)
     Compiling ffs-journal v0.1.0 (/data/projects/frankenfs/crates/ffs-journal)
     Compiling ffs-mvcc v0.1.0 (/data/projects/frankenfs/crates/ffs-mvcc)
     Compiling ffs-alloc v0.1.0 (/data/projects/frankenfs/crates/ffs-alloc)
     Compiling ffs-repair v0.1.0 (/data/projects/frankenfs/crates/ffs-repair)
     Compiling ffs-core v0.1.0 (/data/projects/frankenfs/crates/ffs-core)
     Compiling ffs-harness v0.1.0 (/data/projects/frankenfs/crates/ffs-harness)
     Compiling ffs-fuse v0.1.0 (/data/projects/frankenfs/crates/ffs-fuse)
     Compiling ffs-cli v0.1.0 (/data/projects/frankenfs/crates/ffs-cli)
      Finished `release` profile [optimized] target(s) in 51.88s
       Running `/data/tmp/cargo-target/release/ffs-cli inspect /data/tmp/ffs_e2e_jhWuEc/e2e_test.ext4 --json`
  error: failed to open ext4 image: /data/tmp/ffs_e2e_jhWuEc/e2e_test.ext4: unsupported feature: non-contiguous ext4 journal extents are not supported
Exit code: 1 (duration: 51.972130145s)

FAILED: Assertion failed: cargo run -p ffs-cli --release -- inspect /data/tmp/ffs_e2e_jhWuEc/e2e_test.ext4 --json

Log file: /data/projects/frankenfs/artifacts/e2e/20260213_130830_ffs_smoke/run.log

Last 50 lines of log:
