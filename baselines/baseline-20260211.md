# FrankenFS Baseline â€” 2026-02-11

## Command

```bash
./scripts/benchmark.sh
```

## CLI Command Latency (hyperfine, release)

- `ffs inspect ext4_8mb_reference.ext4 --json`
  - mean: `140.1 ms`, stddev: `6.7 ms`
- `ffs scrub ext4_8mb_reference.ext4 --json`
  - mean: `148.3 ms`, stddev: `7.6 ms`
- `ffs parity --json`
  - mean: `141.5 ms`, stddev: `6.1 ms`

## Harness Command Latency (hyperfine, release)

- `ffs-harness parity`
  - mean: ~`141 ms` (dominated by `cargo run` overhead)
- `ffs-harness check-fixtures`
  - mean: ~`141 ms` (dominated by `cargo run` overhead)

## Criterion (metadata_parse)

- `ext4_superblock_parse`
  - time: `[63.696 ns, 65.627 ns, 68.006 ns]`
- `btrfs_superblock_parse`
  - time: `[61.366 ns, 61.709 ns, 62.118 ns]`

## Criterion (ondisk_parse)

- `ext4_inode_parse`
  - time: `[55.694 ns, 56.203 ns, 56.793 ns]`
- `ext4_group_desc_32byte`
  - time: `[9.894 ns, 9.992 ns, 10.103 ns]`
- `ext4_group_desc_64byte`
  - time: `[10.583 ns, 10.684 ns, 10.789 ns]`
- `ext4_dir_block_parse`
  - time: `[62.760 ns, 64.015 ns, 65.468 ns]`
- `ext4_extent_tree_parse`
  - time: `[18.429 ns, 18.539 ns, 18.675 ns]`
- `btrfs_sys_chunk_parse`
  - time: `[31.626 ns, 31.705 ns, 31.799 ns]`

## Notes

- CLI latency is dominated by process startup + `cargo run` overhead (~130 ms). Actual FS operations are sub-millisecond.
- Parser microbenchmarks use synthetic sparse fixtures. The ondisk_parse suite covers the full on-disk parsing stack: inode, group descriptor, directory block, extent tree, and btrfs sys_chunk array.
- The 8MB reference image (`conformance/golden/ext4_8mb_reference.ext4`) is used for CLI inspect/scrub benchmarks.
