{"id":"bd-10t","title":"ext4 semantics: Implement inode read (ffs-inode) from disk image","description":"Goal: read an ext4 inode by inode number and return a typed struct with enough info for getattr + extent mapping.\n\nDependencies:\n- ext4 inode location math helper\n- ext4 inode parsing that respects inode_size\n- BlockDevice reads\n\nDeliverables:\n- ffs-inode: read_inode(inode_no) -> Ext4Inode (or higher-level Inode)\n- Handle inode numbers starting at 1; validate bounds.\n- Map ParseError to FfsError with context.\n\nAcceptance:\n- Fixture test reads a known inode and matches expected mode/size/flags.\n- Used by path lookup + getattr in later tasks.","status":"closed","priority":1,"issue_type":"task","assignee":"AzureBeaver","created_at":"2026-02-10T03:25:28.329715527Z","created_by":"ubuntu","updated_at":"2026-02-10T19:24:51.847468125Z","closed_at":"2026-02-10T19:24:51.847440593Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4","semantics"],"dependencies":[{"issue_id":"bd-10t","depends_on_id":"bd-3nc","type":"blocks","created_at":"2026-02-10T03:27:33.238928160Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-10t","depends_on_id":"bd-3qq","type":"blocks","created_at":"2026-02-10T03:27:33.136761424Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-10t","depends_on_id":"bd-8tr","type":"blocks","created_at":"2026-02-10T03:27:33.028783440Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-126","title":"Docs: Align parser error taxonomy (ParseError vs FfsError)","description":"Problem: COMPREHENSIVE_SPEC describes some parser failures as returning FfsError::Format/Corruption, but the current design uses ffs-types::ParseError for pure parsing (ffs-ondisk) and maps to FfsError at the orchestration boundary (ffs-core / ffs-ext4 / ffs-btrfs).\n\nGoal: document the layering explicitly:\n- ffs-ondisk is pure and returns ParseError\n- ffs-core converts ParseError to FfsError for user-facing surfaces (CLI/FUSE)\n- checksum verification errors choose a stable representation (ParseError::InvalidField vs a dedicated variant)\n\nAcceptance:\n- Spec sections that mention parser error returns match the actual crate boundaries.\n- No doc requires ffs-ondisk to depend on ffs-error (unless we intentionally change architecture and implement it).","status":"closed","priority":0,"issue_type":"task","assignee":"QuietFalcon","created_at":"2026-02-10T03:13:41.416923883Z","created_by":"ubuntu","updated_at":"2026-02-10T16:46:16.485011064Z","closed_at":"2026-02-10T16:46:16.484988762Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["docs"],"dependencies":[{"issue_id":"bd-126","depends_on_id":"bd-2ds","type":"blocks","created_at":"2026-02-10T03:14:05.670314853Z","created_by":"ubuntu","metadata":"{}","thread_id":""}],"comments":[{"id":18,"issue_id":"bd-126","author":"QuietFalcon","text":"Updated `COMPREHENSIVE_SPEC_FOR_FRANKENFS_V1.md` to make the layering explicit: `ffs-ondisk` checksum/parse failures return `ParseError`, and `ffs-core` converts `ParseError -> FfsError` for mount/CLI/FUSE. Fixed CRC32C seed wording (csum_seed vs superblock seed), replaced the incorrect code snippet to use `ParseError` + `crc32c_append`, and removed the non-existent `ChecksumMismatch` mention in Phase 2 acceptance criteria. Also updated Errata to track only the remaining contextual mapping gap (bd-2fy).","created_at":"2026-02-10T16:46:13Z"}]}
{"id":"bd-12x","title":"Repair: Implement RaptorQ encode/decode workflow + decode proof","description":"Goal: given a set of missing/corrupted blocks in a block group, reconstruct them using repair symbols.\n\nDeliverables:\n- Use asupersync RaptorQ codec to generate symbols and attempt decode.\n- Produce a DecodeProof artifact: which symbols used, success/failure, residual error.\n- Integrate with MVCC commit seq: repair applies to a specific snapshot/version.\n\nAcceptance:\n- Fault injection fixture: corrupt N blocks, decode succeeds when redundancy is sufficient.\n- Decode failures are explainable (proof shows why insufficient).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T03:24:37.815069255Z","created_by":"ubuntu","updated_at":"2026-02-11T02:23:23.278642774Z","closed_at":"2026-02-11T02:23:23.278559839Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["repair"],"dependencies":[{"issue_id":"bd-12x","depends_on_id":"bd-16f","type":"blocks","created_at":"2026-02-10T03:25:00.679065433Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-12x","depends_on_id":"bd-1u7","type":"blocks","created_at":"2026-02-10T03:25:00.834803013Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-14w","title":"ffs-types: Add missing canonical newtypes (BlockSize, ByteOffset, GroupNumber, DeviceId, Generation, ...)","description":"Goal: make ffs-types the single canonical home for cross-crate identifiers and basic arithmetic invariants.\n\nWhy: without strong newtypes we will silently mix units (bytes vs blocks, logical vs physical, ext4 group vs btrfs objectid) and ship corruption bugs.\n\nDeliverables (minimum set):\n- BlockSize(u32): must be power-of-two; ext4 v1 supports 1024/2048/4096 only.\n- ByteOffset(u64): byte offsets on ByteDevice; checked add/sub/mul helpers.\n- GroupNumber(u32): ext4 block group index.\n- DeviceId(u64) or u128: stable id for multi-device future; for now single-device only.\n- Generation(u64): btrfs generation / ext4 generation boundary type.\n- LogicalBlock(BlockNumber) vs PhysicalBlock(BlockNumber) wrappers if we decide they are distinct.\n\nAcceptance:\n- All added newtypes have documented invariants + constructors that enforce them.\n- Existing code in ffs-ondisk/ffs-block/ffs-core is updated to use these types where it improves correctness.","status":"closed","priority":0,"issue_type":"task","assignee":"codex","created_at":"2026-02-10T03:14:19.015044302Z","created_by":"ubuntu","updated_at":"2026-02-10T07:07:56.412273652Z","closed_at":"2026-02-10T07:07:56.412252261Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation"]}
{"id":"bd-16f","title":"Repair: Define repair symbol format + storage strategy (per block group)","description":"Goal: decide where repair symbols live and how they are versioned.\n\nDeliverables:\n- Symbol format: header (block id, commit seq, checksum), payload.\n- Storage strategy options:\n  - reserved metadata area (native-mode)\n  - sidecar file/log\n  - embedded in unused ext4 structures (only if clean-room + safe)\n- Versioning: how symbols relate to MVCC commit sequences.\n\nAcceptance:\n- Strategy is compatible with \"drop-in mount ext4 image\" goals (no silent mutation unless explicitly in FrankenFS-native mode).\n- Recovery after crash is defined.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T03:24:23.352280114Z","created_by":"ubuntu","updated_at":"2026-02-11T01:47:28.750721304Z","closed_at":"2026-02-11T01:47:28.750624723Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["repair"],"dependencies":[{"issue_id":"bd-16f","depends_on_id":"bd-2qf","type":"blocks","created_at":"2026-02-10T03:25:00.601672595Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-16k","title":"Epic: ext4 Read-Only MVP (lookup/readdir/read)","description":"Deliver a minimal ext4 read-only stack sufficient for harness and FUSE read-only mount.\n\nAcceptance:\n- Can read root inode (2), list root directory, resolve a simple path, and read file bytes.\n- All behavior covered by fixtures/harness tests.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-10T03:26:51.538465756Z","created_by":"ubuntu","updated_at":"2026-02-10T19:45:26.512201142Z","closed_at":"2026-02-10T19:45:26.512183559Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4","semantics"],"dependencies":[{"issue_id":"bd-16k","depends_on_id":"bd-10t","type":"blocks","created_at":"2026-02-10T03:27:18.951838832Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-16k","depends_on_id":"bd-1q6","type":"blocks","created_at":"2026-02-10T03:27:19.361469954Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-16k","depends_on_id":"bd-2bu","type":"blocks","created_at":"2026-02-10T03:27:19.198878251Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-16k","depends_on_id":"bd-2hm","type":"blocks","created_at":"2026-02-10T03:27:19.118770686Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-16k","depends_on_id":"bd-2q7","type":"blocks","created_at":"2026-02-10T03:27:19.280819822Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-16k","depends_on_id":"bd-2tq","type":"blocks","created_at":"2026-02-10T03:27:18.867757542Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-16k","depends_on_id":"bd-ye4","type":"blocks","created_at":"2026-02-10T03:27:19.034749168Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-19k","title":"MVCC: Implement MVCC-aware block device wrapper (read snapshot -> version or base)","description":"Goal: make block reads/writes snapshot-aware.\n\nDeliverables:\n- Define MVCCBlockDevice (or similar) that wraps an underlying BlockDevice plus a version store.\n- Read path: read_visible(block, snapshot) else fall back to base device read_block().\n- Write path: stage_write(block, bytes) into the current transaction.\n- Ensure block buffers are block_size aligned and validated.\n\nAcceptance:\n- Unit tests demonstrate snapshot visibility with base+versioned reads.\n- No global locks on read path; concurrency model documented.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T03:22:33.557055409Z","created_by":"ubuntu","updated_at":"2026-02-10T21:13:45.798997520Z","closed_at":"2026-02-10T21:13:45.798977844Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["io","mvcc"],"dependencies":[{"issue_id":"bd-19k","depends_on_id":"bd-14w","type":"blocks","created_at":"2026-02-10T03:23:53.105838366Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-19k","depends_on_id":"bd-2fa","type":"blocks","created_at":"2026-02-10T03:23:53.024630399Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-1a9","title":"ext4: Implement feature flag decoding + validation policy (compat/ro_compat/incompat)","description":"Goal: represent ext4 feature flags in a way that is (1) easy to validate, (2) easy to print for UX, and (3) safe against unknown bits.\n\nDeliverables:\n- Define bitflags (or equivalent) for compat/ro_compat/incompat.\n- Implement decode helpers that produce:\n  - required bits missing?\n  - explicitly rejected bits present?\n  - unknown incompatible bits present?\n- v1 mount policy:\n  - require FILETYPE + EXTENTS\n  - block sizes limited to 1K/2K/4K\n  - reject compression/encrypt/casefold/inline-data, etc.\n\nAcceptance:\n- validate_v1() returns ParseError with stable field+reason.\n- Tests cover: required bits missing, unknown incompat bit, known rejected bit, allowed-but-nonrequired bits.","status":"closed","priority":0,"issue_type":"task","assignee":"AzureBeaver","created_at":"2026-02-10T03:16:56.882710351Z","created_by":"ubuntu","updated_at":"2026-02-10T17:10:51.691798163Z","closed_at":"2026-02-10T17:10:51.691780019Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4","ondisk"],"dependencies":[{"issue_id":"bd-1a9","depends_on_id":"bd-2cn","type":"blocks","created_at":"2026-02-10T03:18:06.539865706Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-1cc","title":"FUSE: Define MVCC snapshot/transaction policy for FUSE operations","description":"Goal: decide how MVCC integrates with the kernel request model.\n\nQuestions:\n- Does each FUSE op run at a single snapshot (read-only), or do we start a transaction per open()/release()?\n- How do we handle readdir+lookup consistency?\n\nDeliverables:\n- A documented policy in COMPREHENSIVE_SPEC.\n- Implementation hooks in ffs-fuse to acquire snapshot/tx per request.\n\nAcceptance:\n- Concurrency tests show consistent reads under concurrent writers (once writes exist).\n- Policy is simple enough to reason about and test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T03:28:39.467984753Z","created_by":"ubuntu","updated_at":"2026-02-11T02:50:37.112290445Z","closed_at":"2026-02-11T02:50:37.112268945Z","close_reason":"done: documented Phase 7A policy + implemented FsOps request-scope hooks in ffs-fuse with tests","source_repo":".","compaction_level":0,"original_size":0,"labels":["fuse","mvcc"],"dependencies":[{"issue_id":"bd-1cc","depends_on_id":"bd-2t1","type":"blocks","created_at":"2026-02-10T03:28:52.176803421Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-1cq","title":"Track: btrfs On-Disk Parsing + Mapping (ffs-ondisk)","description":"Implement btrfs superblock parsing, sys_chunk_array bootstrap mapping, single-device logical->physical mapping, and basic B-tree node/item parsing for read-only discovery.\\n\\nAcceptance: can open a btrfs image, validate superblock, map a logical address via sys_chunk, and iterate root tree items without panics; all guarded by fixtures.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-02-10T03:08:41.112572499Z","created_by":"ubuntu","updated_at":"2026-02-10T20:27:28.404663163Z","closed_at":"2026-02-10T20:27:28.404641172Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1cq","depends_on_id":"bd-1fo","type":"blocks","created_at":"2026-02-10T03:19:03.414637386Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-1cq","depends_on_id":"bd-2vt","type":"blocks","created_at":"2026-02-10T03:19:03.259271763Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-1cq","depends_on_id":"bd-kdk","type":"blocks","created_at":"2026-02-10T03:19:03.337640505Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-1cq","depends_on_id":"bd-o76","type":"blocks","created_at":"2026-02-10T03:19:03.495838876Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-1cq","depends_on_id":"bd-z7n","type":"blocks","created_at":"2026-02-10T03:19:16.963240254Z","created_by":"ubuntu","metadata":"{}","thread_id":""}],"comments":[{"id":6,"issue_id":"bd-1cq","author":"Dicklesworthstone","text":"btrfs bootstrap is different from ext4: you must parse sys_chunk_array to map logical->physical before you can even read the trees.\n\nEarly wins:\n- parse superblock + sys_chunk\n- map root/chunk_root\n- parse nodes and walk root tree (read-only)\n\nMulti-device and RAID profiles remain explicitly excluded until read-only parity is solid.","created_at":"2026-02-10T03:34:38Z"}]}
{"id":"bd-1ds","title":"ffs-types: Finalize InodeNumber strategy (ext4 u32 vs btrfs u64)","description":"Context: ext4 stores inode numbers as u32; btrfs uses u64 objectids. The code currently standardizes on InodeNumber(u64) in ffs-types.\n\nGoal: make the representation choice explicit and safe:\n- keep InodeNumber(u64) canonical, but add per-format wrappers (Ext4InodeNumber(u32), BtrfsObjectId(u64)) OR\n- switch to an enum/typed wrapper that prevents mixing domains.\n\nDeliverables:\n- Chosen representation documented in ffs-types docs + COMPREHENSIVE_SPEC.\n- Conversion functions at parsing boundaries.\n- Tests proving no silent truncation or sign/width bugs.\n\nAcceptance:\n- No crate invents its own inode/objectid types.\n- Public APIs do not require callers to guess whether a u64 is ext4 or btrfs.","status":"closed","priority":1,"issue_type":"task","assignee":"AzureBeaver","created_at":"2026-02-10T03:14:31.298330901Z","created_by":"ubuntu","updated_at":"2026-02-10T16:00:54.151204622Z","closed_at":"2026-02-10T16:00:54.151178934Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation"]}
{"id":"bd-1fo","title":"btrfs: Implement node parse helpers (internal + leaf, item table bounds)","description":"Goal: provide safe parsing primitives for btrfs tree nodes.\n\nDeliverables:\n- Parse node header (already exists) and validate bytenr, nritems, level.\n- Parse item table for:\n  - leaf nodes (items point to payload within block)\n  - internal nodes (items point to child block pointers)\n- Provide iterators that yield keys + (offset,size) or key + child pointer.\n\nAcceptance:\n- Unit tests cover malformed item tables (overlaps, out-of-bounds offsets, overflow).\n- Works on at least one real btrfs node fixture.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T03:18:52.067406279Z","created_by":"ubuntu","updated_at":"2026-02-10T20:11:54.582074584Z","closed_at":"2026-02-10T20:11:54.582054607Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["btrfs","ondisk"]}
{"id":"bd-1q6","title":"ext4 semantics: Implement FsOps adapter over ext4 context (ffs-core/ffs-ext4)","description":"Goal: provide an implementation of the internal FsOps trait for ext4, backed by parsing + block I/O.\n\nDeliverables:\n- Ext4Fs struct: holds Ext4Context + BlockDevice + caches.\n- Implement getattr/lookup/readdir/read by calling ffs-inode/ffs-dir/ffs-extent helpers.\n\nAcceptance:\n- Harness can instantiate Ext4Fs and run end-to-end tests (no FUSE required).\n- FUSE layer can mount by delegating to this implementation.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T03:26:22.710623047Z","created_by":"ubuntu","updated_at":"2026-02-10T19:45:04.823712447Z","closed_at":"2026-02-10T19:45:04.823690245Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4","semantics"],"dependencies":[{"issue_id":"bd-1q6","depends_on_id":"bd-2bu","type":"blocks","created_at":"2026-02-10T03:27:34.440914590Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-1q6","depends_on_id":"bd-2q7","type":"blocks","created_at":"2026-02-10T03:27:34.553154230Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-1q6","depends_on_id":"bd-2tq","type":"blocks","created_at":"2026-02-10T03:27:34.325211421Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-1q6","depends_on_id":"bd-3nc","type":"blocks","created_at":"2026-02-10T03:27:34.663416995Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-1sb","title":"btrfs: Implement checksum verification hooks (superblock + nodes) [phased]","description":"Future task: verify btrfs checksums according to csum_type.\n\nDeliverables:\n- Implement superblock checksum verification.\n- Implement node/header checksum verification.\n- Support at least CRC32C first; extend as needed.\n\nAcceptance:\n- Flipped-bit fixture fails verification and is reported by scrub.","status":"closed","priority":3,"issue_type":"task","owner":"PinkCreek","created_at":"2026-02-10T03:32:08.779052310Z","created_by":"ubuntu","updated_at":"2026-02-11T03:31:49.779818610Z","closed_at":"2026-02-11T03:31:49.779797540Z","close_reason":"Implemented verify_superblock_checksum + verify_tree_block_checksum for btrfs CRC32C. Added BTRFS_CSUM_TYPE constants. 5 tests (valid/corrupt/unsupported).","source_repo":".","compaction_level":0,"original_size":0,"labels":["btrfs","ondisk"]}
{"id":"bd-1u7","title":"MVCC: Design persistence for versioned blocks (COW log / version store)","description":"Goal: move MVCC from in-memory-only to durable versioned storage.\n\nDeliverables:\n- Choose a version store strategy:\n  - append-only log of (block, commit_seq, bytes)\n  - or a separate COW file with mapping table\n- Define crash consistency (fsync points, recovery on restart).\n- Define GC/pruning strategy and watermark semantics.\n\nAcceptance:\n- A concrete design exists in COMPREHENSIVE_SPEC + PROPOSED_ARCHITECTURE.\n- We can replay the version store to reconstruct the latest snapshot after restart.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T03:22:46.671058738Z","created_by":"ubuntu","updated_at":"2026-02-11T02:12:58.738125666Z","closed_at":"2026-02-11T02:12:58.738102002Z","close_reason":"Documented durable MVCC version store overlay (COMPREHENSIVE_SPEC ยง5.9 + PROPOSED_ARCHITECTURE ยง3.2.1 + config hook); cargo fmt/check/clippy/test pass","source_repo":".","compaction_level":0,"original_size":0,"labels":["mvcc"],"dependencies":[{"issue_id":"bd-1u7","depends_on_id":"bd-2t1","type":"blocks","created_at":"2026-02-10T03:23:53.343628845Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-1va","title":"Docs: Reconcile ext4/btrfs scope + phased support statements","description":"Goal: make sure every doc says the same thing about what FrankenFS V1 supports and what is explicitly excluded/phased.\n\nMust be consistent across: COMPREHENSIVE_SPEC, PLAN, README, FEATURE_PARITY.\n\nScope items to pin down:\n- ext4 v1: supports 1K/2K/4K block sizes; requires extents+filetype; read-only mount first; journaling replay and writes later.\n- btrfs: phased; single-device sys_chunk mapping and read-only discovery first; no multi-device/RAID/compression initially.\n\nAcceptance:\n- There is one canonical exclusions list and it is referenced everywhere.\n- Any test corpus/harness fixtures do not contradict exclusions.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T03:13:50.654693806Z","created_by":"ubuntu","updated_at":"2026-02-11T02:08:56.766242627Z","closed_at":"2026-02-11T02:08:56.766159160Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["docs"],"dependencies":[{"issue_id":"bd-1va","depends_on_id":"bd-2ds","type":"blocks","created_at":"2026-02-10T03:14:05.746969333Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-1wx","title":"MVCC: Implement SSI conflict detection (phased, correctness-first)","description":"Goal: detect and prevent write skew / dangerous structures beyond FCW.\n\nDeliverables:\n- Define read_set/write_set tracking strategy with version info (not just BlockNumber).\n- Implement rw-antidependency tracking and dangerous-structure detection per SSI literature.\n- Provide an escape hatch: run SSI only for write transactions (read txns should be cheap).\n\nAcceptance:\n- A formal model section in the spec that matches code.\n- Tests cover a known write-skew scenario that FCW allows but SSI rejects.","status":"closed","priority":2,"issue_type":"task","owner":"PinkCreek","created_at":"2026-02-10T03:22:53.621860531Z","created_by":"ubuntu","updated_at":"2026-02-11T03:12:17.306135330Z","closed_at":"2026-02-11T03:12:17.306114320Z","close_reason":"SSI commit_ssi() with rw-antidependency detection, read-set tracking, lab_ssi_rejects_write_skew test across 20 seeds, spec ยง5.0 updated","source_repo":".","compaction_level":0,"original_size":0,"labels":["mvcc"],"dependencies":[{"issue_id":"bd-1wx","depends_on_id":"bd-2t1","type":"blocks","created_at":"2026-02-10T03:23:53.427799854Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-1wx","depends_on_id":"bd-hrv","type":"blocks","created_at":"2026-02-10T03:23:53.512260635Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-1x8","title":"Cleanup: Delete bootstrap temp files (.spec_*.md) [REQUIRES EXPLICIT USER PERMISSION]","description":"Rule: DO NOT delete any file without explicit written user permission (AGENTS.md Rule 1).\n\nScope:\n- Remove leftover bootstrap concatenation artifacts like .spec_*.md (currently at least .spec_10_11.md exists).\n\nAcceptance:\n- Only proceed after user provides explicit written permission naming the files/pattern.\n- Record the permission text and exact command(s) executed in the final response when it happens.","status":"deferred","priority":4,"issue_type":"task","created_at":"2026-02-10T03:31:17.885693003Z","created_by":"ubuntu","updated_at":"2026-02-10T03:31:17.885693003Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["cleanup"]}
{"id":"bd-220","title":"Track: MVCC Engine (ffs-mvcc)","description":"Implement block-level MVCC: snapshot reads, versioned writes, commit/abort semantics, and (phased) conflict detection (SSI-style) suitable for filesystem workloads.\\n\\nAcceptance: deterministic correctness under asupersync lab runtime (reproducible schedules), explicit invariants + tests, and integration with ffs-block for versioned block storage. Must be designed so FUSE operations can run concurrently without global locks.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-10T03:08:56.957648896Z","created_by":"ubuntu","updated_at":"2026-02-11T03:13:22.508009156Z","closed_at":"2026-02-11T03:13:22.507987376Z","close_reason":"All dependencies closed: FCW + SSI conflict detection, watermark GC, MVCC block device wrapper, deterministic lab tests. 37 ffs-mvcc tests pass.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-220","depends_on_id":"bd-126","type":"blocks","created_at":"2026-02-10T03:31:38.690642752Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-220","depends_on_id":"bd-19k","type":"blocks","created_at":"2026-02-10T03:23:03.836737989Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-220","depends_on_id":"bd-1u7","type":"blocks","created_at":"2026-02-10T03:23:04.004715853Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-220","depends_on_id":"bd-1wx","type":"blocks","created_at":"2026-02-10T03:23:04.085808825Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-220","depends_on_id":"bd-2fa","type":"blocks","created_at":"2026-02-10T03:24:01.103674030Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-220","depends_on_id":"bd-2l4","type":"blocks","created_at":"2026-02-10T03:31:38.603663691Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-220","depends_on_id":"bd-2t1","type":"blocks","created_at":"2026-02-10T03:23:03.750610235Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-220","depends_on_id":"bd-3ie","type":"blocks","created_at":"2026-02-10T03:23:04.170472987Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-220","depends_on_id":"bd-hrv","type":"blocks","created_at":"2026-02-10T03:23:03.921347970Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-220","depends_on_id":"bd-hv6","type":"blocks","created_at":"2026-02-10T03:31:38.514583520Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-220","depends_on_id":"bd-z7n","type":"blocks","created_at":"2026-02-10T03:24:01.025948959Z","created_by":"ubuntu","metadata":"{}","thread_id":""}],"comments":[{"id":9,"issue_id":"bd-220","author":"Dicklesworthstone","text":"MVCC is the core FrankenFS differentiator.\n\nWe start with FCW (simple, testable), then evolve toward SSI only where necessary.\nKey integration points:\n- MVCC-aware block reads: (snapshot -> version or base)\n- Durable version store design\n- Deterministic concurrency tests\n\nThis track must remain mathematically defensible and heavily tested.","created_at":"2026-02-10T03:34:39Z"}]}
{"id":"bd-23n","title":"CLI: Implement mount subcommand (ffs-cli mount <image> <mountpoint>)","description":"Goal: provide the primary entry point for users: mount an ext4 image via FUSE.\n\nDeliverables:\n- Add CLI parsing for mount args + options (read-only, allow-other, etc).\n- Use ffs-core OpenFs API to open/validate image.\n- Construct ffs-fuse Filesystem + start fuser mount loop.\n\nAcceptance:\n- Manual E2E: mount fixture image read-only and run ls/stat/cat.\n- Errors are user-friendly and map to correct errno/log messages.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T03:29:29.600373001Z","created_by":"ubuntu","updated_at":"2026-02-10T19:51:15.997299182Z","closed_at":"2026-02-10T19:51:15.997281579Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["cli","fuse"],"dependencies":[{"issue_id":"bd-23n","depends_on_id":"bd-27a","type":"blocks","created_at":"2026-02-10T03:30:05.615727710Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-23n","depends_on_id":"bd-3is","type":"blocks","created_at":"2026-02-10T03:30:05.699859913Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-23n","depends_on_id":"bd-3vn","type":"blocks","created_at":"2026-02-10T03:30:05.526795366Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-23r","title":"TUI: Minimal dashboard (cache/MVCC/repair metrics) via ftui [phased]","description":"Goal: provide a live view of internal state for debugging and demos.\n\nDeliverables:\n- A ftui-based screen that shows:\n  - cache hit/miss, p value\n  - mvcc commit seq, open txns\n  - repair overhead + recent scrub events\n\nAcceptance:\n- Can run against a local mount or harness run and update periodically.","status":"closed","priority":3,"issue_type":"task","owner":"PinkCreek","created_at":"2026-02-10T03:29:50.041190926Z","created_by":"ubuntu","updated_at":"2026-02-11T03:42:44.518865708Z","closed_at":"2026-02-11T03:42:44.518843938Z","close_reason":"Implemented: Dashboard model + DashboardSnapshot DTO + 3-panel view (cache/MVCC/scrub) + 12 tests","source_repo":".","compaction_level":0,"original_size":0,"labels":["tui"],"dependencies":[{"issue_id":"bd-23r","depends_on_id":"bd-2t1","type":"blocks","created_at":"2026-02-10T03:30:06.040436183Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-23r","depends_on_id":"bd-ece","type":"blocks","created_at":"2026-02-10T03:30:05.953356393Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-23s","title":"Epic: ext4 Advanced Semantics (htree, symlink, xattr, permissions)","description":"Follow-on work to reach stronger ext4 parity beyond the MVP.\n\nScope examples:\n- htree indexed dirs\n- symlinks\n- xattrs\n- permission bits and ownership mapping details\n\nAcceptance:\n- Each feature has fixtures and at least one conformance comparison against kernel behavior.","status":"closed","priority":3,"issue_type":"epic","created_at":"2026-02-10T03:26:58.089326744Z","created_by":"ubuntu","updated_at":"2026-02-11T03:27:48.847862449Z","closed_at":"2026-02-11T03:27:48.847835960Z","close_reason":"All 4 sub-tasks complete: permissions/rdev (bd-q0g), xattr (bd-3bu), symlinks (bd-wse), htree (bd-3qy).","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4","semantics"],"dependencies":[{"issue_id":"bd-23s","depends_on_id":"bd-3bu","type":"blocks","created_at":"2026-02-10T03:27:52.066658739Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-23s","depends_on_id":"bd-3qy","type":"blocks","created_at":"2026-02-10T03:27:51.896047591Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-23s","depends_on_id":"bd-q0g","type":"blocks","created_at":"2026-02-10T03:27:52.155086654Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-23s","depends_on_id":"bd-wse","type":"blocks","created_at":"2026-02-10T03:27:51.978648257Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-25k","title":"ext4: Implement group descriptor checksum verification hooks (metadata_csum)","description":"Goal: prepare for ext4 metadata checksum verification (CRC32C) when the filesystem uses metadata_csum.\n\nDeliverables:\n- Determine checksum algorithm and seed for group descriptors (from legacy ext4 code) including how group number participates.\n- Add a function: verify_group_desc_checksum(desc_bytes, group_nr, superblock) -> Result<()>.\n- If metadata_csum is not enabled, skip verification.\n\nAcceptance:\n- Unit tests: known-good descriptor passes; flipped-bit fails.\n- Error type is stable and mapped correctly for user-facing surfaces.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T03:17:25.017305716Z","created_by":"ubuntu","updated_at":"2026-02-10T21:06:44.617157237Z","closed_at":"2026-02-10T21:06:44.617138091Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4","ondisk"],"dependencies":[{"issue_id":"bd-25k","depends_on_id":"bd-1a9","type":"blocks","created_at":"2026-02-10T03:18:06.845984197Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-25k","depends_on_id":"bd-28h","type":"blocks","created_at":"2026-02-10T03:32:02.431265758Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-25k","depends_on_id":"bd-2cn","type":"blocks","created_at":"2026-02-10T03:18:06.766942705Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-265","title":"ffs-block: Concurrency design for cache (sharding + no I/O under lock)","description":"Goal: make sure cache remains safe and fast under many concurrent FUSE operations.\n\nDeliverables:\n- Decide locking strategy (single Mutex vs sharded) and document it.\n- Ensure we never do disk I/O while holding a global cache lock.\n- Add a concurrency stress test under asupersync lab runtime (deterministic schedule) or standard threads with timeouts.\n\nAcceptance:\n- Stress test does not deadlock.\n- Contention is measured (optional) and stays reasonable under synthetic load.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T03:16:00.946703440Z","created_by":"ubuntu","updated_at":"2026-02-10T20:53:29.955924247Z","closed_at":"2026-02-10T20:53:29.955906063Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["io"],"dependencies":[{"issue_id":"bd-265","depends_on_id":"bd-5iz","type":"blocks","created_at":"2026-02-10T03:16:27.057034396Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-27a","title":"FUSE: Implement read-only ext4 ops (getattr/lookup/readdir/open/read)","description":"Goal: mount a supported ext4 image read-only and run basic workloads (ls/stat/cat).\n\nDeliverables:\n- Map fuser callbacks to FsOps: getattr, lookup, readdir, read.\n- Correct file type + mode bits in replies.\n- Correct errno mapping for not found / not dir / permission.\n\nAcceptance:\n- Manual E2E: mount fixture image and run ls -la, stat, cat on a known file.\n- Integration test (if feasible) exercises a mounted instance in CI or as a local script.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T03:28:33.287038771Z","created_by":"ubuntu","updated_at":"2026-02-10T19:49:04.786727381Z","closed_at":"2026-02-10T19:49:04.786708486Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4","fuse"],"dependencies":[{"issue_id":"bd-27a","depends_on_id":"bd-16k","type":"blocks","created_at":"2026-02-10T03:28:52.094578108Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-27a","depends_on_id":"bd-vgu","type":"blocks","created_at":"2026-02-10T03:28:52.009592894Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-28h","title":"ext4: Implement CRC32C checksum verification (superblock + inode + dir tail)","description":"Goal: verify ext4 metadata checksums when metadata_csum feature is enabled.\n\nDeliverables:\n- Add crc32c dependency (or equivalent) in appropriate crate.\n- Implement verify_superblock_checksum() (note: superblock checksum rules differ from group desc).\n- Implement inode checksum verification hook (phased).\n- Implement directory block tail checksum verification hook (phased).\n\nAcceptance:\n- Unit tests: checksum passes on known-good fixture bytes, fails on flipped bit.\n- Scrub pipeline can reuse these hooks to detect corruption.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T03:31:52.406901062Z","created_by":"ubuntu","updated_at":"2026-02-10T21:06:32.714655569Z","closed_at":"2026-02-10T21:06:32.714637305Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4","ondisk"]}
{"id":"bd-29o","title":"Track: Filesystem Semantics (alloc, btree, extent, inode, dir, xattr, journal)","description":"Implement the actual filesystem metadata/data operations (initially ext4 read-only path) on top of on-disk parsing + block I/O. This is where we reach meaningful parity beyond 'can parse a superblock'.\\n\\nAcceptance: can resolve paths, read directory entries, read file data (extents), and report metadata via harness; later phases add writes + journal/MVCC integration.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-10T03:09:13.171667672Z","created_by":"ubuntu","updated_at":"2026-02-11T03:44:02.965848077Z","closed_at":"2026-02-11T03:44:02.965826407Z","close_reason":"Read-only acceptance criteria met (lookup/readdir/read/xattr/htree/symlink). Write path deferred to bd-zge.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-29o","depends_on_id":"bd-16k","type":"blocks","created_at":"2026-02-10T03:28:06.665935833Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-29o","depends_on_id":"bd-23s","type":"blocks","created_at":"2026-02-10T03:28:06.747444684Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-29o","depends_on_id":"bd-zge","type":"blocks","created_at":"2026-02-10T03:28:06.832473890Z","created_by":"ubuntu","metadata":"{}","thread_id":""}],"comments":[{"id":11,"issue_id":"bd-29o","author":"Dicklesworthstone","text":"This track is where parsing turns into an actual filesystem.\n\nWe split into:\n- ext4 Read-Only MVP (lookup/readdir/read) to unlock FUSE mounting and meaningful parity.\n- ext4 Advanced (htree, symlink, xattr, etc).\n- Write Path epic (alloc/journal/MVCC integration) for later.\n\nAll semantics work must be fixture-backed and routed through a minimal FsOps trait.","created_at":"2026-02-10T03:34:39Z"}]}
{"id":"bd-2bu","title":"ext4 semantics: Implement path lookup (linear scan) for name -> inode","description":"Goal: resolve paths like /a/b/c by walking directory inodes.\n\nDeliverables:\n- ffs-dir: lookup(parent_inode, name) -> inode_no.\n- Use linear scan over parsed dir entries first (htree phased).\n- Handle special entries: \".\" and \"..\".\n\nAcceptance:\n- Fixture test resolves a few known paths.\n- Errors are correct: NotFound vs NotDirectory vs NameTooLong.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T03:26:01.193715842Z","created_by":"ubuntu","updated_at":"2026-02-10T19:42:21.801329805Z","closed_at":"2026-02-10T19:42:21.801311261Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4","semantics"],"dependencies":[{"issue_id":"bd-2bu","depends_on_id":"bd-2hm","type":"blocks","created_at":"2026-02-10T03:27:33.976312271Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2cn","title":"ext4: Expand superblock parsing toward full layout (ffs-ondisk)","description":"Goal: parse the ext4 superblock fields needed for mount validation and downstream math (group desc locations, inode table, features, checksums).\n\nDeliverables (incremental):\n- Parse additional core fields: s_log_cluster_size, s_blocks_per_group, s_inodes_per_group, s_inode_size, s_desc_size, s_feature_* full, s_uuid, s_checksum_seed (if present), s_checksum.\n- Provide a structured representation for feature flags (bitflags or typed wrapper).\n- Add tests that compare parsed values against known bytes (fixtures).\n\nAcceptance:\n- No panics on malformed data (ParseError only).\n- validate_v1() can be implemented purely from parsed fields.\n- Fixture-based test covers at least one real ext4 image superblock dump.","status":"closed","priority":0,"issue_type":"task","assignee":"QuietFalcon","created_at":"2026-02-10T03:16:48.654535684Z","created_by":"ubuntu","updated_at":"2026-02-10T16:40:23.557657945Z","closed_at":"2026-02-10T16:40:23.557635854Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4","ondisk"],"comments":[{"id":15,"issue_id":"bd-2cn","author":"QuietFalcon","text":"In progress: added ext4 superblock parsing for s_log_cluster_size / s_clusters_per_group (with computed cluster_size), introduced typed wrappers for ext4 feature flag sets (compat/incompat/ro_compat) and updated validate_v1 to use them. Generating a real mkfs.ext4 superblock fixture (4096-byte blocks) and wiring it into ffs-harness conformance tests next; then running full cargo gates.","created_at":"2026-02-10T15:57:10Z"},{"id":16,"issue_id":"bd-2cn","author":"QuietFalcon","text":"Completed: superblock parsing now includes s_log_cluster_size + computed cluster_size and s_clusters_per_group; feature flag fields are wrapped in typed structs (compat/incompat/ro_compat) preserving raw bits; added real mkfs.ext4 fixture  and harness test coverage. Gates: cargo fmt --check, cargo check --all-targets, cargo clippy --all-targets -- -D warnings, cargo test --workspace (all pass).","created_at":"2026-02-10T16:39:51Z"},{"id":17,"issue_id":"bd-2cn","author":"QuietFalcon","text":"Note: fixture path is `conformance/fixtures/ext4_superblock_mkfs_4096.json` (previous comment lost it due to shell backticks).","created_at":"2026-02-10T16:40:16Z"}]}
{"id":"bd-2dk","title":"ext4: Implement directory entry parsing (ext4_dir_entry_2)","description":"Goal: parse ext4 directory blocks into entries for name lookup and readdir.\n\nDeliverables:\n- Parse ext4_dir_entry_2: inode(u32), rec_len(u16), name_len(u8), file_type(u8), name bytes.\n- Validate rec_len alignment and bounds within the directory block.\n- Expose an iterator that walks entries in a block without allocations where possible.\n\nAcceptance:\n- Unit tests cover: empty entry, last entry, invalid rec_len (zero, overflow), name_len > rec_len.\n- Fixture test parses a real directory block and matches debugfs listing.","status":"closed","priority":1,"issue_type":"task","assignee":"AzureBeaver","created_at":"2026-02-10T03:17:38.171911631Z","created_by":"ubuntu","updated_at":"2026-02-10T16:22:37.417436876Z","closed_at":"2026-02-10T16:22:37.417417891Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4","ondisk"]}
{"id":"bd-2ds","title":"Docs Gate: Re-audit docs for contradictions + produce current Errata list","description":"Purpose: re-check the current versions of COMPREHENSIVE_SPEC_FOR_FRANKENFS_V1.md / PROPOSED_ARCHITECTURE.md / PLAN_TO_PORT_FRANKENFS_TO_RUST.md / FEATURE_PARITY.md / AGENTS.md / README.md for internal contradictions and doc-vs-code drift.\\n\\nWhy: implementation is unsafe if normative types/traits/crate boundaries disagree across docs. This task produces the *current* (not historical) Errata list used to drive follow-up fixes.\\n\\nDeliverables:\\n- A short Errata section added to COMPREHENSIVE_SPEC_FOR_FRANKENFS_V1.md (or a dedicated doc) listing each mismatch with file+anchor and the intended resolution.\\n- A mechanical checklist for future audits (rg patterns + invariants to verify).\\n\\nAcceptance:\\n- Errata list is complete enough that every other docs-fix issue below can reference it.\\n- No 'unknown unknowns' in the top-level normative contracts (types, errors, core traits, crate map).","status":"closed","priority":0,"issue_type":"task","assignee":"codex","created_at":"2026-02-10T03:12:31.044783552Z","created_by":"ubuntu","updated_at":"2026-02-10T06:45:48.220996449Z","closed_at":"2026-02-10T06:45:48.220978175Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["docs"]}
{"id":"bd-2fa","title":"Track: Image I/O + Block Cache (ffs-block)","description":"Provide the Cx-aware ByteDevice/BlockDevice abstraction plus metadata cache. This is the performance-critical hot path for parsing, MVCC, and repair.\\n\\nAcceptance: safe superblock reads by fixed offsets, block-aligned geometry validation, deterministic cancellation behavior via &Cx checkpoints, and an ARC-like metadata cache with fixtures + benchmarks. Write-back is phased; start with read-cache correctness.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-10T03:08:30.524700957Z","created_by":"ubuntu","updated_at":"2026-02-10T21:07:03.257052603Z","closed_at":"2026-02-10T21:07:03.257027356Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2fa","depends_on_id":"bd-265","type":"blocks","created_at":"2026-02-10T03:16:17.593253994Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2fa","depends_on_id":"bd-5iz","type":"blocks","created_at":"2026-02-10T03:16:17.379484681Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2fa","depends_on_id":"bd-ece","type":"blocks","created_at":"2026-02-10T03:16:17.483567687Z","created_by":"ubuntu","metadata":"{}","thread_id":""}],"comments":[{"id":4,"issue_id":"bd-2fa","author":"Dicklesworthstone","text":"ffs-block is the hot path.\n\nRules of engagement:\n- Every public I/O method takes &Cx for cancellation.\n- No disk I/O while holding global locks.\n- Cache design must be benchmarked only after fixtures prove correctness.\n\nThis track feeds parsing, MVCC, repair, and FUSE latency.","created_at":"2026-02-10T03:34:38Z"}]}
{"id":"bd-2fs","title":"CLI: Switch to clap-based structured CLI (inspect/mount/fsck/stats)","description":"Goal: move from ad-hoc env::args parsing to a structured CLI.\n\nDeliverables:\n- Use clap derive.\n- Subcommands: inspect, mount, fsck/scrub, parity, stats.\n- Ensure --json output is stable for automation.\n\nAcceptance:\n- Help output is clear and matches README.\n- Existing inspect behavior preserved.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T03:29:35.569588551Z","created_by":"ubuntu","updated_at":"2026-02-10T21:04:18.045099216Z","closed_at":"2026-02-10T21:04:18.045081073Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["cli"]}
{"id":"bd-2fy","title":"ffs-core: Implement ParseError -> FfsError mapping with context","description":"Goal: when pure parsers return ParseError, higher layers must convert to FfsError with enough context to be actionable.\n\nDeliverables:\n- A function (or trait) in ffs-core: map_parse_error(context, ParseError) -> FfsError.\n- Context includes: which structure (ext4 superblock vs group desc vs inode), what offset/group/inode number, etc.\n- Ensure mapping preserves details without leaking huge byte dumps.\n\nAcceptance:\n- CLI inspect prints useful errors.\n- FUSE mount returns stable errno plus a clear log message.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-10T03:20:27.019823860Z","created_by":"ubuntu","updated_at":"2026-02-10T17:04:44.506835168Z","closed_at":"2026-02-10T17:04:44.506816042Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["core"],"dependencies":[{"issue_id":"bd-2fy","depends_on_id":"bd-126","type":"blocks","created_at":"2026-02-10T03:20:48.558474490Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2fy","depends_on_id":"bd-owq","type":"blocks","created_at":"2026-02-10T03:20:48.478581732Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2hm","title":"ext4 semantics: Implement readdir (ffs-dir) via dir_entry_2 parsing","description":"Goal: list directory entries for a directory inode.\n\nDeliverables:\n- ffs-dir: read_dir(inode_no) -> Vec<DirEntry> or iterator.\n- Read directory data blocks via extent mapping (or direct blocks for very small dirs if needed).\n- Parse each directory block using ext4_dir_entry_2 parser.\n\nAcceptance:\n- Fixture test: root directory (inode 2) entries match expected set.\n- Handles malformed entries defensively (skips or errors with context, per policy).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T03:25:52.386775767Z","created_by":"ubuntu","updated_at":"2026-02-10T19:39:44.917174735Z","closed_at":"2026-02-10T19:39:44.917157112Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4","semantics"],"dependencies":[{"issue_id":"bd-2hm","depends_on_id":"bd-10t","type":"blocks","created_at":"2026-02-10T03:27:33.859471361Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2hm","depends_on_id":"bd-2dk","type":"blocks","created_at":"2026-02-10T03:27:33.563555113Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2hm","depends_on_id":"bd-ye4","type":"blocks","created_at":"2026-02-10T03:27:33.719070546Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2ij","title":"Harness: Define Linux-kernel reference capture strategy (ext4/btrfs)","description":"Goal: prove behavioral parity by comparing FrankenFS outputs against a trusted reference.\n\nOptions:\n- Use kernel tools (dumpe2fs/debugfs/btrfs inspect-internal) to produce golden JSON.\n- Or mount images via kernel FS driver and observe syscalls/metadata.\n\nDeliverables:\n- Choose which behaviors are compared (superblock fields, inode stat, directory listing, extent mapping).\n- Define a reproducible capture pipeline that produces versioned golden outputs.\n\nAcceptance:\n- At least one end-to-end conformance test exists that compares FrankenFS output to kernel-derived golden output.","status":"closed","priority":2,"issue_type":"task","owner":"PinkCreek","created_at":"2026-02-10T03:21:45.455326215Z","created_by":"ubuntu","updated_at":"2026-02-11T02:38:51.625512548Z","closed_at":"2026-02-11T02:38:51.625490867Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["harness"]}
{"id":"bd-2l4","title":"Docs: Canonicalize normative trait definitions (BlockDevice/MVCC/Repair)","description":"Goal: ensure each major trait contract is defined once (normative), with stable signatures (including &Cx requirements) and stable semantic notes.\\n\\nScope:\\n- ffs-block traits: ByteDevice/BlockDevice (or equivalent)\\n- MVCC public traits (begin read tx, begin write tx, versioned read/write, commit/abort)\\n- Repair interfaces (scrub report, symbol generation, decode proof)\\n\\nDeliverables:\\n- Choose canonical trait locations (PROPOSED_ARCHITECTURE + COMPREHENSIVE_SPEC).\\n- Remove or mark 'illustrative' any alternate trait signatures that diverge.\\n- Ensure &asupersync::Cx usage is consistent (no ambient authority).\\n\\nAcceptance:\\n- No doc section defines a second incompatible trait signature.\\n- The crate that owns each trait is explicit (no 'phantom home crate').","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-10T03:12:46.237190866Z","created_by":"ubuntu","updated_at":"2026-02-11T01:47:53.293870581Z","closed_at":"2026-02-11T01:47:53.293847658Z","close_reason":"Canonicalized ByteDevice/BlockDevice + MVCC/Repair trait signatures across COMPREHENSIVE_SPEC+PROPOSED_ARCHITECTURE; removed divergent duplicates","source_repo":".","compaction_level":0,"original_size":0,"labels":["docs"],"dependencies":[{"issue_id":"bd-2l4","depends_on_id":"bd-2ds","type":"blocks","created_at":"2026-02-10T03:14:05.375138586Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2oa","title":"ffs-error: Decide mount-validation error variants (UnsupportedFeature/UnsupportedBlockSize/etc)","description":"Context: mount validation can fail because of unsupported feature bits, block sizes, or incompatible on-disk geometry.\n\nQuestion: do we represent these as:\n- ParseError::InvalidField (and map to FfsError::Format), OR\n- dedicated FfsError variants (UnsupportedFeature, UnsupportedBlockSize, InvalidGeometry), OR\n- an intermediate MountValidationError used by ffs-core.\n\nDeliverables:\n- Chosen approach documented.\n- Error mapping yields correct errno (EINVAL vs EOPNOTSUPP) for FUSE and CLI.\n\nAcceptance:\n- ext4 validate_v1() failures are surfaced with stable errors and good UX.\n- Docs/spec do not list non-existent FfsError variants.","status":"closed","priority":1,"issue_type":"task","assignee":"AzureBeaver","created_at":"2026-02-10T03:14:59.187355332Z","created_by":"ubuntu","updated_at":"2026-02-10T15:53:56.423539784Z","closed_at":"2026-02-10T15:53:56.423519876Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation"]}
{"id":"bd-2q7","title":"ext4 semantics: Implement file read (cat) using extent mapping","description":"Goal: read regular file data by mapping logical blocks to physical blocks and reading from BlockDevice.\n\nDeliverables:\n- ffs-inode or ffs-core: read_file(inode_no, offset,len) -> bytes.\n- Support partial-block reads.\n- Handle holes/unwritten extents conservatively (return zeroes or error, per policy).\n\nAcceptance:\n- Fixture test reads a known file and matches golden bytes.\n- Works through the same path used by FUSE read().","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T03:26:08.054881047Z","created_by":"ubuntu","updated_at":"2026-02-10T19:41:12.022257501Z","closed_at":"2026-02-10T19:41:12.022235780Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4","semantics"],"dependencies":[{"issue_id":"bd-2q7","depends_on_id":"bd-10t","type":"blocks","created_at":"2026-02-10T03:27:34.205321398Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2q7","depends_on_id":"bd-ye4","type":"blocks","created_at":"2026-02-10T03:27:34.090645093Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2qf","title":"Repair: Extract FrankenSQLite RaptorQ approach and adapt to filesystem blocks","description":"Goal: reuse proven strategy from /dp/frankensqlite for fountain-code-based self-healing, but adapted to ext4/btrfs block groups and filesystem workloads.\n\nDeliverables:\n- Summarize the key FrankenSQLite design choices: symbol placement, overhead tuning, decode proofs, ledgering.\n- Identify what changes for filesystems: block group boundaries, metadata vs data, read/write patterns.\n- Update COMPREHENSIVE_SPEC repair section with an explicit design derived from this extraction.\n\nAcceptance:\n- We can explain exactly how a corrupted block is detected and which symbols are used to repair it.\n- The design includes tunable parameters and an expected-loss justification (not ad-hoc thresholds).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T03:24:15.796807569Z","created_by":"ubuntu","updated_at":"2026-02-11T01:40:19.555409837Z","closed_at":"2026-02-11T01:40:19.555343092Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["repair"]}
{"id":"bd-2t1","title":"MVCC: Specify API + invariants (TxnId/CommitSeq/Snapshot) and phase plan (FCW -> SSI)","description":"Goal: make MVCC semantics unambiguous before integrating with filesystem operations.\n\nDeliverables:\n- Document: what a Snapshot means (visibility window), when it is taken, and how it is used for reads.\n- Document: transaction lifecycle (begin -> stage writes -> commit/abort) and what is allowed concurrently.\n- Phase plan:\n  - Phase A: First-committer-wins (FCW) conflict check at commit.\n  - Phase B: Add optional SSI tracking (read sets + rw-antidependencies) where needed.\n\nAcceptance:\n- ffs-mvcc public API is stable enough that ffs-fuse can build on it.\n- There is a simple correctness proof sketch for FCW and a roadmap for SSI.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T03:22:27.695269767Z","created_by":"ubuntu","updated_at":"2026-02-10T17:20:36.304894733Z","closed_at":"2026-02-10T17:20:36.304874716Z","close_reason":"Spec: clarify MVCC Snapshot/Transaction lifecycle; Phase A (FCW) vs Phase B (SSI) plan; document Phase A API","source_repo":".","compaction_level":0,"original_size":0,"labels":["mvcc"]}
{"id":"bd-2tq","title":"Semantics: Define a minimal VFS operations trait for FUSE/harness","description":"Goal: define the internal interface FUSE and harness call.\n\nDeliverables:\n- A trait (e.g. FsOps) with methods needed for read-only mount:\n  - getattr(inode)\n  - lookup(parent,name)\n  - readdir(inode)\n  - read(inode,offset,len)\n- Types for file attributes and directory entries.\n\nAcceptance:\n- ffs-fuse can implement the fuser::Filesystem methods by delegating to this trait.\n- ext4 implementation can live behind this interface (and later btrfs too).","status":"closed","priority":1,"issue_type":"task","assignee":"AzureBeaver","created_at":"2026-02-10T03:26:14.391246994Z","created_by":"ubuntu","updated_at":"2026-02-10T16:29:28.832170053Z","closed_at":"2026-02-10T16:29:28.832148523Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["semantics"]}
{"id":"bd-2uj","title":"Track: Performance Baselines + Regression Gates","description":"Establish measurable performance goals and prevent regressions via baselines + profiling discipline (per extreme-software-optimization).\\n\\nAcceptance: (1) hyperfine baselines exist for key paths (detect/open/parse ext4 superblock+groupdesc, btrfs superblock+map), (2) benchmark harness exists for cache hot paths, (3) optimization PRs require before/after numbers + isomorphism proof + golden checksums.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-02-10T03:09:32.851180914Z","created_by":"ubuntu","updated_at":"2026-02-11T03:32:05.682177354Z","closed_at":"2026-02-11T03:32:05.682151305Z","close_reason":"All 3 sub-tasks complete: criterion benches (bd-3ff), golden/isomorphism proofs (bd-p1l), benchmark baselines (bd-37g).","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2uj","depends_on_id":"bd-37g","type":"blocks","created_at":"2026-02-10T03:31:02.651808806Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2uj","depends_on_id":"bd-3ff","type":"blocks","created_at":"2026-02-10T03:31:02.817592180Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2uj","depends_on_id":"bd-p1l","type":"blocks","created_at":"2026-02-10T03:31:02.735713072Z","created_by":"ubuntu","metadata":"{}","thread_id":""}],"comments":[{"id":14,"issue_id":"bd-2uj","author":"Dicklesworthstone","text":"Optimization is not a vibe.\n\nWe follow the loop:\n- baseline (hyperfine)\n- profile\n- change one lever\n- prove behavior unchanged (goldens + checksums)\n- re-measure\n\nThis track exists to keep performance claims honest and regressions detectable.","created_at":"2026-02-10T03:34:39Z"}]}
{"id":"bd-2vt","title":"btrfs: Expand superblock parsing (sys_chunk_array + validation)","description":"Goal: parse enough of btrfs superblock to bootstrap mapping without reading chunk tree yet.\n\nDeliverables:\n- Parse sys_chunk_array and sys_chunk_array_size fields.\n- Add validation for sectorsize/nodesize/stripesize: non-zero, power-of-two where required, and sane bounds.\n- Expose a helper to iterate sys_chunk_array entries.\n\nAcceptance:\n- Fixture-backed test: parse a real btrfs superblock and confirm sys_chunk_array size/contents are plausible.\n- No panics on malformed input.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T03:18:36.214652115Z","created_by":"ubuntu","updated_at":"2026-02-10T20:04:40.654597651Z","closed_at":"2026-02-10T20:04:40.654575529Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["btrfs","ondisk"]}
{"id":"bd-2w9","title":"ext4: Implement superblock geometry validation (group/inode math sanity)","description":"Goal: validate ext4 geometry beyond magic+block size, so later helpers (inode table math, group desc iteration) are safe.\n\nDeliverables:\n- Validate blocks_per_group and inodes_per_group are non-zero and within sane bounds.\n- Validate inode_size is supported (>=128, power-of-two-ish, and fits in block).\n- Validate desc_size is supported (>=32, <= block size, and consistent with 64BIT feature).\n- Validate first_data_block rules: for 1K blocks, first_data_block=1; for 2K/4K, typically 0 (document exact rule).\n- Compute group_count and validate group desc table length fits in device.\n\nAcceptance:\n- validate_v1_geometry() (or equivalent) exists with unit tests for edge cases.\n- No unchecked division by zero or overflow in downstream code.","status":"closed","priority":0,"issue_type":"task","assignee":"AzureBeaver","created_at":"2026-02-10T03:17:06.586128480Z","created_by":"ubuntu","updated_at":"2026-02-10T17:33:34.372291716Z","closed_at":"2026-02-10T17:33:34.372273762Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4","ondisk"],"dependencies":[{"issue_id":"bd-2w9","depends_on_id":"bd-2cn","type":"blocks","created_at":"2026-02-10T03:18:06.614254690Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2yi","title":"Harness: Add btrfs fixtures for sys_chunk mapping + node parsing","description":"Goal: fixture-back btrfs mapping and node parsing work.\n\nDeliverables:\n- Add sparse fixtures for:\n  - superblock with non-empty sys_chunk_array\n  - at least 1 btrfs leaf node block (nodesize) with a few items\n- Add harness helpers to parse and validate:\n  - mapping of root/chunk_root logical addresses\n  - leaf item table bounds\n\nAcceptance:\n- btrfs mapping + node parse tasks have fixtures that fail if bounds checks regress.\n- Parity counts updated when coverage increases.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T03:21:38.058404262Z","created_by":"ubuntu","updated_at":"2026-02-10T20:21:04.997119020Z","closed_at":"2026-02-10T20:21:04.997097259Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["btrfs","harness"],"dependencies":[{"issue_id":"bd-2yi","depends_on_id":"bd-1fo","type":"blocks","created_at":"2026-02-10T03:22:05.881201973Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2yi","depends_on_id":"bd-2vt","type":"blocks","created_at":"2026-02-10T03:22:05.800109863Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2zg","title":"Harness: Add ext4 fixtures for group descriptors + inode parsing","description":"Goal: extend conformance/fixtures beyond superblock so new ext4 parsing work is fixture-backed.\n\nDeliverables:\n- Add sparse fixtures for:\n  - at least 1 group descriptor (32-byte) and 1 group descriptor (64-byte)\n  - at least 1 inode (with extents) and 1 directory inode\n  - at least 1 directory block (dir_entry_2)\n- Add harness validation helpers that parse these fixtures and assert key fields.\n\nAcceptance:\n- New ext4 parsing tasks (group desc, inode parse, dirent parse) have at least one fixture each.\n- FEATURE_PARITY and ParityReport are updated in the same change when coverage increases.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-10T03:21:32.375616672Z","created_by":"ubuntu","updated_at":"2026-02-10T19:58:21.396958654Z","closed_at":"2026-02-10T19:58:21.396936793Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4","harness"],"dependencies":[{"issue_id":"bd-2zg","depends_on_id":"bd-2dk","type":"blocks","created_at":"2026-02-10T03:22:05.715953282Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2zg","depends_on_id":"bd-3qq","type":"blocks","created_at":"2026-02-10T03:22:05.634893223Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-37g","title":"Perf: Maintain scripts/benchmark.sh + add baselines for key paths","description":"Goal: keep a repeatable benchmark entry point as the CLI/harness evolves.\n\nDeliverables:\n- Update scripts/benchmark.sh when commands or binaries change.\n- Add baselines for:\n  - ffs-cli inspect <fixture>\n  - ffs-core open/validate ext4\n  - btrfs sys_chunk mapping (once implemented)\n\nAcceptance:\n- scripts/benchmark.sh runs successfully on a fresh checkout.\n- Baselines are stable enough to detect regressions.","status":"closed","priority":2,"issue_type":"task","owner":"PinkCreek","created_at":"2026-02-10T03:30:37.930757625Z","created_by":"ubuntu","updated_at":"2026-02-11T02:58:21.589581022Z","closed_at":"2026-02-11T02:58:21.589552609Z","close_reason":"ondisk_parse benchmarks + CLI baselines + baseline-20260211","source_repo":".","compaction_level":0,"original_size":0,"labels":["perf"],"dependencies":[{"issue_id":"bd-37g","depends_on_id":"bd-3q4","type":"blocks","created_at":"2026-02-10T03:31:10.672820552Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-37u","title":"FrankenFS V1 Program (Spec -> Parity -> MVCC -> Self-Heal -> FUSE)","description":"Root epic for FrankenFS V1. Goal: a memory-safe, clean-room Rust filesystem that is mount-compatible with ext4 images (and later btrfs), but internally uses copy-on-write MVCC and self-healing durability.\\n\\nThis epic is CLOSED only when all track epics are closed (docs/spec integrity, ext4/btrfs on-disk parsing, I/O + caching, harness/conformance + benchmarks, MVCC, repair, FUSE mount surface, CLI/TUI, performance gates).\\n\\nNon-negotiables (see AGENTS.md): no unsafe code, Rust 2024/nightly, no destructive commands, spec-first + conformance-first, keep FEATURE_PARITY current.","status":"open","priority":0,"issue_type":"epic","created_at":"2026-02-10T03:08:01.941883096Z","created_by":"ubuntu","updated_at":"2026-02-10T03:33:38.950039724Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-37u","depends_on_id":"bd-1cq","type":"blocks","created_at":"2026-02-10T03:09:39.083100981Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-37u","depends_on_id":"bd-220","type":"blocks","created_at":"2026-02-10T03:09:39.279735383Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-37u","depends_on_id":"bd-29o","type":"blocks","created_at":"2026-02-10T03:09:39.411627077Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-37u","depends_on_id":"bd-2fa","type":"blocks","created_at":"2026-02-10T03:09:38.949282548Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-37u","depends_on_id":"bd-2uj","type":"blocks","created_at":"2026-02-10T03:09:39.620238013Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-37u","depends_on_id":"bd-397","type":"blocks","created_at":"2026-02-10T03:09:39.014323044Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-37u","depends_on_id":"bd-3pm","type":"blocks","created_at":"2026-02-10T03:09:39.344547011Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-37u","depends_on_id":"bd-3sk","type":"blocks","created_at":"2026-02-10T03:09:39.481917607Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-37u","depends_on_id":"bd-3sp","type":"blocks","created_at":"2026-02-10T03:09:39.148591190Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-37u","depends_on_id":"bd-6dl","type":"blocks","created_at":"2026-02-10T03:09:38.815163472Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-37u","depends_on_id":"bd-c35","type":"blocks","created_at":"2026-02-10T03:09:39.213607120Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-37u","depends_on_id":"bd-g30","type":"blocks","created_at":"2026-02-10T03:09:39.551168149Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-37u","depends_on_id":"bd-z7n","type":"blocks","created_at":"2026-02-10T03:09:38.881651409Z","created_by":"ubuntu","metadata":"{}","thread_id":""}],"comments":[{"id":1,"issue_id":"bd-37u","author":"Dicklesworthstone","text":"How To Use This Beads Graph (self-contained):\n\n- Find actionable work: br ready --json\n- Visualize dependencies: br dep tree <id>\n- Never create cycles: br dep cycles (must be empty)\n- After changing issues: br sync --flush-only (exports .beads/issues.jsonl)\n\nDesign doctrine (why this plan is structured into tracks):\n- Spec-first + conformance-first: we do not trust line-by-line C translations. Each behavior needs fixtures/harness coverage.\n- Most catastrophic filesystem bugs are unit/offset mismatches and unchecked arithmetic; foundations + parsing invariants are early epics.\n- FUSE is a thin adapter: it should delegate to a minimal internal FsOps trait so correctness can be tested without mounting.\n- MVCC + repair are treated as first-class tracks with explicit invariants and decision-theoretic policies (no magic thresholds).\n\nDefinition of Done for any implementation task:\n- Implement the behavior\n- Add fixture(s) or property tests\n- Update FEATURE_PARITY + ffs-harness ParityReport in the same change\n- Pass: cargo fmt --check, cargo check --all-targets, cargo clippy --all-targets -- -D warnings, cargo test --workspace","created_at":"2026-02-10T03:33:38Z"}]}
{"id":"bd-397","title":"Track: ext4 On-Disk Parsing + Validation (ffs-ondisk)","description":"Implement ext4 superblock/groupdesc/inode/extents parsing and v1 validation rules (1K/2K/4K only).\\n\\nAcceptance: fixture-backed parsing (no panics on malformed input), explicit incompat/ro_compat/compat feature handling, geometry validation, inode location math, and enough metadata decode to support read-only directory traversal in harness.","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-02-10T03:08:36.666176234Z","created_by":"ubuntu","updated_at":"2026-02-10T21:07:31.048400234Z","closed_at":"2026-02-10T21:07:31.048381980Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-397","depends_on_id":"bd-1a9","type":"blocks","created_at":"2026-02-10T03:17:54.863758523Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-397","depends_on_id":"bd-25k","type":"blocks","created_at":"2026-02-10T03:17:55.098495316Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-397","depends_on_id":"bd-28h","type":"blocks","created_at":"2026-02-10T03:31:57.763623533Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-397","depends_on_id":"bd-2cn","type":"blocks","created_at":"2026-02-10T03:17:54.790696896Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-397","depends_on_id":"bd-2dk","type":"blocks","created_at":"2026-02-10T03:17:55.253783443Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-397","depends_on_id":"bd-2w9","type":"blocks","created_at":"2026-02-10T03:17:54.943155050Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-397","depends_on_id":"bd-3qq","type":"blocks","created_at":"2026-02-10T03:17:55.177411533Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-397","depends_on_id":"bd-8tr","type":"blocks","created_at":"2026-02-10T03:17:55.019820641Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-397","depends_on_id":"bd-z7n","type":"blocks","created_at":"2026-02-10T03:18:20.483819114Z","created_by":"ubuntu","metadata":"{}","thread_id":""}],"comments":[{"id":5,"issue_id":"bd-397","author":"Dicklesworthstone","text":"ext4 v1 support policy is intentionally narrow:\n- Block sizes: 1K/2K/4K only.\n- Required features: FILETYPE + EXTENTS.\n- Unknown incompatible feature bits must fail validation.\n\nThis track exists to make ext4 parsing boring: bounded, checksum-aware, and fixture-backed.","created_at":"2026-02-10T03:34:38Z"}]}
{"id":"bd-3bf","title":"Docs: Resolve layering contract (ffs-fuse / ffs-core / semantics boundaries)","description":"Goal: make crate boundaries unambiguous so implementation does not drift.\n\nDecisions to document:\n- ffs-fuse is a thin adapter over an internal FsOps trait.\n- ffs-core owns open/detect/validate and constructs per-format contexts.\n- semantics crates (ffs-inode/ffs-dir/ffs-extent/...) implement the actual operations.\n\nAcceptance:\n- PROPOSED_ARCHITECTURE.md + COMPREHENSIVE_SPEC agree on the layering and dependency direction.\n- Cargo.toml dependency edges match the documented layering.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-10T03:35:00.976855586Z","created_by":"ubuntu","updated_at":"2026-02-11T02:03:15.319842714Z","closed_at":"2026-02-11T02:03:15.319761162Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["docs"],"dependencies":[{"issue_id":"bd-3bf","depends_on_id":"bd-2ds","type":"blocks","created_at":"2026-02-10T03:35:19.679993026Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-3bu","title":"ext4 semantics: Implement xattr parsing + getxattr/listxattr [phased]","description":"Future task: support extended attributes.\n\nDeliverables:\n- Parse ext4 xattr header and entries (inline and block-based).\n- Implement getxattr/listxattr semantics.\n\nAcceptance:\n- Fixture xattr values match kernel outputs.","status":"closed","priority":3,"issue_type":"task","owner":"PinkCreek","created_at":"2026-02-10T03:27:40.697810297Z","created_by":"ubuntu","updated_at":"2026-02-11T03:27:14.188846783Z","closed_at":"2026-02-11T03:27:14.188824792Z","close_reason":"Added listxattr/getxattr to FsOps trait. Implemented on Ext4FsOps and OpenFs. parse_ibody_xattrs + parse_xattr_block standalone functions added. 6 tests.","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4","semantics"],"dependencies":[{"issue_id":"bd-3bu","depends_on_id":"bd-10t","type":"blocks","created_at":"2026-02-10T03:28:01.732139893Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-3ff","title":"Perf: Add criterion benches for cache hot paths + parsing loops","description":"Goal: measure the actual hotspots once correctness fixtures exist.\n\nDeliverables:\n- Criterion bench for:\n  - ARC cache hit path\n  - ARC cache miss path (no I/O in bench; use in-memory ByteDevice)\n  - ext4 group desc iteration / inode read (once implemented)\n\nAcceptance:\n- Benches run in CI or at least locally with stable results.\n- Bench outputs are used to drive targeted optimization work.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T03:30:56.866258166Z","created_by":"ubuntu","updated_at":"2026-02-10T21:00:07.922658284Z","closed_at":"2026-02-10T21:00:07.922640581Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["io","perf"],"dependencies":[{"issue_id":"bd-3ff","depends_on_id":"bd-5iz","type":"blocks","created_at":"2026-02-10T03:31:10.503270335Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-3gt","title":"Docs: Reconcile crate map + dependency claims with Cargo workspace","description":"Goal: ensure every docs crate table/diagram matches Cargo.toml + crates/*/Cargo.toml reality (including phased dependencies like fuser).\n\nDeliverables:\n- COMPREHENSIVE_SPEC and PROPOSED_ARCHITECTURE crate lists reflect the 21-crate workspace (19 core + ffs-ext4/ffs-btrfs wrappers + ffs facade).\n- Each crate description states: purpose, allowed deps, and which phase introduces it.\n- Remove stale claims (e.g. crates that \"depend on X\" when they do not).\n\nAcceptance:\n- A reviewer can grep any crate name and find exactly one consistent description of its purpose and deps.\n- No phantom crates remain except in historical notes that explicitly say they are phantom.","status":"closed","priority":0,"issue_type":"task","assignee":"codex","created_at":"2026-02-10T03:12:54.518888Z","created_by":"ubuntu","updated_at":"2026-02-10T06:47:32.522979682Z","closed_at":"2026-02-10T06:47:32.522953282Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["docs"],"dependencies":[{"issue_id":"bd-3gt","depends_on_id":"bd-2ds","type":"blocks","created_at":"2026-02-10T03:14:05.449410020Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-3h8","title":"Docs: Resolve missing ARCHITECTURE.md / CONVENTIONS.md references","description":"Problem: PLAN_TO_PORT_FRANKENFS_TO_RUST.md references ARCHITECTURE.md and CONVENTIONS.md as if they exist, but they do not in this repo.\n\nOptions:\n1) Create these docs with narrowly-scoped content:\n- ARCHITECTURE.md: crate topology + key invariants + dataflow diagrams (thin, points to COMPREHENSIVE_SPEC + PROPOSED_ARCHITECTURE).\n- CONVENTIONS.md: code style rules, Definition of Done, checklists (fmt/check/clippy/test), parity update protocol.\n2) Remove references entirely and ensure existing docs cover the intent.\n\nAcceptance:\n- No references to non-existent files remain.\n- If files are created, they are referenced as the canonical location for the promised content and kept small (no duplicate spec).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T03:13:26.674127660Z","created_by":"ubuntu","updated_at":"2026-02-11T02:08:56.848685681Z","closed_at":"2026-02-11T02:08:56.848609359Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["docs"],"dependencies":[{"issue_id":"bd-3h8","depends_on_id":"bd-2ds","type":"blocks","created_at":"2026-02-10T03:14:05.524210264Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-3hi","title":"Docs: Align errno mapping (Cancelled EINTR vs ECANCELED, etc.)","description":"Problem: COMPREHENSIVE_SPEC_FOR_FRANKENFS_V1.md currently documents Cancelled -> EINTR, but crates/ffs-error/src/lib.rs maps Cancelled -> ECANCELED.\n\nGoal: choose the canonical errno semantics for each FfsError variant (especially cancellation) and ensure:\n- ffs-error::to_errno() matches that choice\n- docs tables match that choice\n- FUSE behavior uses it consistently\n\nAcceptance:\n- A single authoritative errno mapping table exists (prefer ffs-error docs or code comment) and docs reference it.\n- COMPREHENSIVE_SPEC + PLAN + PROPOSED_ARCHITECTURE do not contradict the code.\n- We document the rationale (EINTR vs ECANCELED) in one place.","status":"closed","priority":0,"issue_type":"task","assignee":"codex","created_at":"2026-02-10T03:13:34.660731378Z","created_by":"ubuntu","updated_at":"2026-02-10T06:52:01.225330808Z","closed_at":"2026-02-10T06:52:01.225311371Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["docs"],"dependencies":[{"issue_id":"bd-3hi","depends_on_id":"bd-2ds","type":"blocks","created_at":"2026-02-10T03:14:05.597011413Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-3hr","title":"ffs-error: Decide Cancelled errno semantics and update to_errno()","description":"Context: cancellation propagates via asupersync::Cx::checkpoint(). For FUSE, cancellation can be represented as EINTR (interrupted) or ECANCELED (explicit cancellation).\n\nGoal: choose one policy and implement it in crates/ffs-error/src/lib.rs::to_errno(), and align docs accordingly.\n\nAcceptance:\n- Cancelled maps to the chosen errno everywhere.\n- We document the rationale (kernel/VFS expectations, operator experience, retry semantics).","status":"closed","priority":0,"issue_type":"task","assignee":"codex","created_at":"2026-02-10T03:14:44.331239413Z","created_by":"ubuntu","updated_at":"2026-02-10T06:52:17.927026438Z","closed_at":"2026-02-10T06:52:17.927005458Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation"],"dependencies":[{"issue_id":"bd-3hr","depends_on_id":"bd-3hi","type":"blocks","created_at":"2026-02-10T03:15:20.267006203Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-3ie","title":"MVCC: Version GC/pruning semantics + watermark API","description":"Goal: prevent unbounded growth of version chains while preserving snapshot correctness.\n\nDeliverables:\n- Define watermark: the oldest snapshot that must remain readable.\n- Implement prune_versions_older_than with clear semantics (keep at least one version per block).\n- Integrate with version store persistence design.\n\nAcceptance:\n- Tests show: pruning does not break reads at snapshots >= watermark.\n- Memory usage remains bounded in a long-running simulation.","status":"closed","priority":2,"issue_type":"task","owner":"PinkCreek","created_at":"2026-02-10T03:22:59.347693253Z","created_by":"ubuntu","updated_at":"2026-02-11T03:05:03.750023307Z","closed_at":"2026-02-11T03:05:03.749995605Z","close_reason":"watermark API + active snapshot tracking + prune_safe + bounded memory tests","source_repo":".","compaction_level":0,"original_size":0,"labels":["mvcc"],"dependencies":[{"issue_id":"bd-3ie","depends_on_id":"bd-1u7","type":"blocks","created_at":"2026-02-10T03:23:53.592572202Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-3is","title":"ffs-core: Define OpenFs API (detect -> parse -> validate -> context)","description":"Goal: provide a single entry point for higher layers (CLI, harness, FUSE) to open a filesystem image.\n\nDeliverables:\n- Define types: FilesystemKind, OpenFs (or Ext4Context/BtrfsContext), OpenOptions.\n- OpenFs contains: parsed superblock, computed geometry, block device handle, and any derived constants.\n- API shape should make it impossible to forget validation (open() should validate by default).\n\nAcceptance:\n- ffs-cli and ffs-harness use this API exclusively (no ad-hoc probing).\n- Error messages include enough context for UX (which validation failed).","status":"closed","priority":1,"issue_type":"task","assignee":"AzureBeaver","created_at":"2026-02-10T03:19:50.195373546Z","created_by":"ubuntu","updated_at":"2026-02-10T16:37:52.596376784Z","closed_at":"2026-02-10T16:37:52.596356115Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["core"]}
{"id":"bd-3k4","title":"ffs-core: Implement btrfs open/validate pipeline (phased, read-only)","description":"Goal: open a btrfs image via ffs-block + ffs-ondisk, validate superblock fields, and produce a BtrfsContext suitable for read-only discovery.\n\nDeliverables:\n- Read btrfs superblock region via ffs-block helper.\n- Parse BtrfsSuperblock and validate nodesize/sectorsize.\n- Build sys_chunk logical->physical mapper for single-device images.\n- Provide a method to read the root tree node via mapping.\n\nAcceptance:\n- Can open a fixture btrfs image and enumerate a few root-tree items (using the btrfs track primitives).\n- Failures return structured errors (not just UnsupportedImage).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T03:20:08.442820137Z","created_by":"ubuntu","updated_at":"2026-02-10T20:38:03.059596284Z","closed_at":"2026-02-10T20:38:03.059577078Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["btrfs","core"],"dependencies":[{"issue_id":"bd-3k4","depends_on_id":"bd-1fo","type":"blocks","created_at":"2026-02-10T03:20:48.403282392Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-3k4","depends_on_id":"bd-kdk","type":"blocks","created_at":"2026-02-10T03:20:48.329083905Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-3nc","title":"ffs-core: Implement ext4 open/validate pipeline on ByteDevice","description":"Goal: open an ext4 image via ffs-block + ffs-ondisk, validate v1 constraints, and produce an Ext4Context used by higher layers.\n\nDeliverables:\n- Read ext4 superblock region via ffs-block helper.\n- Parse Ext4Superblock and call validate_v1 + geometry validation.\n- Construct a BlockDevice using the ext4 block_size.\n- Compute group_count and any derived constants needed for later reads.\n\nAcceptance:\n- Unit tests: synthetic images + failure cases.\n- Fixture test: open a real ext4 image and print key fields (via harness/CLI) without panics.","status":"closed","priority":1,"issue_type":"task","assignee":"AzureBeaver","created_at":"2026-02-10T03:19:59.733624025Z","created_by":"ubuntu","updated_at":"2026-02-10T19:20:35.378477759Z","closed_at":"2026-02-10T19:20:35.378459014Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["core","ext4"],"dependencies":[{"issue_id":"bd-3nc","depends_on_id":"bd-1a9","type":"blocks","created_at":"2026-02-10T03:20:48.250186773Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-3nc","depends_on_id":"bd-2w9","type":"blocks","created_at":"2026-02-10T03:20:48.171049692Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-3pm","title":"Track: Self-Healing Durability (ffs-repair + RaptorQ)","description":"Implement scrub + repair workflows using fountain-code repair symbols (RaptorQ) at block-group granularity, inspired by FrankenSQLite.\\n\\nAcceptance: (1) detect corruption via checksums/invariants, (2) decide repair policy via explicit expected-loss model, (3) generate/store repair symbols with bounded overhead, (4) demonstrate recovery in harness via fault-injection fixtures.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-02-10T03:09:03.148300333Z","created_by":"ubuntu","updated_at":"2026-02-11T03:13:48.907677046Z","closed_at":"2026-02-11T03:13:48.907655636Z","close_reason":"All dependencies closed: scrub pipeline, RaptorQ encode/decode, expected-loss policy, repair format, MVCC engine. Repair + self-healing infrastructure complete.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3pm","depends_on_id":"bd-12x","type":"blocks","created_at":"2026-02-10T03:24:51.850237578Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-3pm","depends_on_id":"bd-16f","type":"blocks","created_at":"2026-02-10T03:24:51.684984729Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-3pm","depends_on_id":"bd-220","type":"blocks","created_at":"2026-02-10T03:25:07.365358636Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-3pm","depends_on_id":"bd-2qf","type":"blocks","created_at":"2026-02-10T03:24:51.602555705Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-3pm","depends_on_id":"bd-98b","type":"blocks","created_at":"2026-02-10T03:24:51.932081315Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-3pm","depends_on_id":"bd-b80","type":"blocks","created_at":"2026-02-10T03:24:51.767948606Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-3pm","depends_on_id":"bd-z7n","type":"blocks","created_at":"2026-02-10T03:25:07.446263615Z","created_by":"ubuntu","metadata":"{}","thread_id":""}],"comments":[{"id":10,"issue_id":"bd-3pm","author":"Dicklesworthstone","text":"Self-healing must be explainable.\n\nWe will not ship \"magic\" repair heuristics:\n- detect corruption via checksums + invariants\n- decide redundancy/repair via expected-loss model\n- record decode proofs so we can audit why a repair succeeded/failed\n\nThis is explicitly patterned after FrankenSQLite, adapted to block groups.","created_at":"2026-02-10T03:34:39Z"}]}
{"id":"bd-3q4","title":"Harness: Define fixture generation workflow (sparse fixtures + real images)","description":"Goal: make it easy to add fixtures for new parsing/semantics features without ad-hoc manual bytes.\n\nDeliverables:\n- Document fixture formats used in conformance/fixtures (sparse JSON today).\n- Add a generator approach:\n  - option A: produce sparse fixtures from real images by extracting only relevant byte ranges\n  - option B: maintain small handcrafted fixtures for unit tests, and use real images for E2E\n\nAcceptance:\n- Adding a new fixture is a repeatable recipe (commands + expected outputs) documented in-repo.\n- Fixtures are small enough to live in git and stable across platforms.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T03:21:26.003872529Z","created_by":"ubuntu","updated_at":"2026-02-11T01:39:43.151468379Z","closed_at":"2026-02-11T01:39:43.151379713Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["harness"]}
{"id":"bd-3qq","title":"ext4: Expand inode parsing (timestamps, uid/gid, flags, extent/inline fields)","description":"Goal: parse enough of ext4 inode to support read-only semantics (stat + extent mapping + directory traversal).\n\nDeliverables:\n- Parse core inode fields: mode, uid/gid (low/high), size, atime/ctime/mtime/crtime, links, flags, generation, blocks.\n- Respect inode_size (128 vs 256) and avoid assuming fixed offsets exist if inode smaller.\n- Parse i_block area for extent header and inline extents.\n\nAcceptance:\n- Fixture tests compare against debugfs/dumpe2fs for at least a few inodes.\n- Parser never panics; InsufficientData is returned for short slices.\n- Extent parsing from inode is wired via parse_inode_extent_tree().","status":"closed","priority":1,"issue_type":"task","assignee":"AzureBeaver","created_at":"2026-02-10T03:17:32.338682915Z","created_by":"ubuntu","updated_at":"2026-02-10T17:19:14.312943367Z","closed_at":"2026-02-10T17:19:14.312924221Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4","ondisk"],"dependencies":[{"issue_id":"bd-3qq","depends_on_id":"bd-2cn","type":"blocks","created_at":"2026-02-10T03:18:06.921918247Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-3qy","title":"ext4: Implement HTree directory index parsing (dx_root/dx_entry) [phased]","description":"Future-facing task: implement parsing of ext4 hashed directory indexes (htree) for fast lookup in large directories.\n\nDeliverables:\n- Parse dx_root, dx_entry tables, and hash seed.\n- Implement lookup(name) -> candidate leaf blocks.\n- Verify hash algorithm matches kernel (TEA/half-MD4 depending on feature).\n\nAcceptance:\n- Works on a fixture directory with htree enabled.\n- Verified against debugfs for lookup paths.\n\nNote: small directories can be handled by linear scan; htree becomes required for parity on large dirs.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-10T03:17:45.431485210Z","created_by":"ubuntu","updated_at":"2026-02-11T03:27:43.348400195Z","closed_at":"2026-02-11T03:27:43.348375770Z","close_reason":"htree already implemented: parse_dx_root, Ext4DxRoot, Ext4DxEntry, dx_hash (legacy/half-md4/tea signed+unsigned), htree_lookup with O(log n) DX index. 6 tests pass.","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4","ondisk"]}
{"id":"bd-3sk","title":"Track: FUSE Mount Surface (ffs-fuse)","description":"Implement the Linux userspace mount interface via the fuser crate. This is the external contract: kernel VFS calls -> FrankenFS operations.\\n\\nAcceptance: can mount a supported ext4 image read-only via FUSE and run basic operations (ls/stat/cat) with correct errno mappings, using ffs-core to open/validate and ffs-mvcc to provide snapshot semantics.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-10T03:09:19.141431579Z","created_by":"ubuntu","updated_at":"2026-02-11T03:44:07.642883497Z","closed_at":"2026-02-11T03:44:07.642862167Z","close_reason":"All sub-tasks complete: FUSE skeleton, read-only ops, MVCC policy, errno mapping","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3sk","depends_on_id":"bd-1cc","type":"blocks","created_at":"2026-02-10T03:28:45.097243187Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-3sk","depends_on_id":"bd-220","type":"blocks","created_at":"2026-02-10T03:29:01.779940191Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-3sk","depends_on_id":"bd-27a","type":"blocks","created_at":"2026-02-10T03:28:44.985312747Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-3sk","depends_on_id":"bd-29o","type":"blocks","created_at":"2026-02-10T03:29:01.695737233Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-3sk","depends_on_id":"bd-2l4","type":"blocks","created_at":"2026-02-10T03:31:38.795251161Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-3sk","depends_on_id":"bd-3hi","type":"blocks","created_at":"2026-02-10T03:31:38.894635585Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-3sk","depends_on_id":"bd-3sp","type":"blocks","created_at":"2026-02-10T03:29:01.609787562Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-3sk","depends_on_id":"bd-vgu","type":"blocks","created_at":"2026-02-10T03:28:44.878119913Z","created_by":"ubuntu","metadata":"{}","thread_id":""}],"comments":[{"id":12,"issue_id":"bd-3sk","author":"Dicklesworthstone","text":"FUSE should stay thin and stupid.\n\nDesign intent:\n- ffs-fuse delegates to internal FsOps.\n- Errors map via FfsError::to_errno.\n- MVCC snapshot policy for requests is explicit and testable.\n\nThis keeps correctness testable without needing to mount during unit tests.","created_at":"2026-02-10T03:34:39Z"}]}
{"id":"bd-3sp","title":"Track: Core Orchestration (ffs-core)","description":"Own the high-level open/detect/validate orchestration. ffs-core should be the single entry point for: detect filesystem kind, parse superblock, validate v1 constraints, and construct per-format mount contexts for FUSE/harness.\\n\\nAcceptance: callers (CLI, harness, FUSE) use ffs-core (not ad-hoc probing). All detection uses fixed-offset reads and returns structured errors suitable for UX + errno.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-10T03:08:47.639624742Z","created_by":"ubuntu","updated_at":"2026-02-10T21:07:31.124956934Z","closed_at":"2026-02-10T21:07:31.124935684Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3sp","depends_on_id":"bd-2fa","type":"blocks","created_at":"2026-02-10T03:20:52.754108430Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-3sp","depends_on_id":"bd-2fy","type":"blocks","created_at":"2026-02-10T03:20:33.629156010Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-3sp","depends_on_id":"bd-3is","type":"blocks","created_at":"2026-02-10T03:20:33.398379999Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-3sp","depends_on_id":"bd-3k4","type":"blocks","created_at":"2026-02-10T03:20:33.553948031Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-3sp","depends_on_id":"bd-3nc","type":"blocks","created_at":"2026-02-10T03:20:33.474813064Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-3sp","depends_on_id":"bd-z7n","type":"blocks","created_at":"2026-02-10T03:20:52.675188605Z","created_by":"ubuntu","metadata":"{}","thread_id":""}],"comments":[{"id":7,"issue_id":"bd-3sp","author":"Dicklesworthstone","text":"ffs-core is the integration choke-point.\n\nIt should be the only place that:\n- detects filesystem flavor\n- opens devices\n- validates v1 constraints\n- builds mount contexts\n\nAll UX surfaces (CLI/harness/FUSE) should call ffs-core, not re-implement probing.","created_at":"2026-02-10T03:34:39Z"}]}
{"id":"bd-3vn","title":"CLI: Replace Cx::for_testing() with production context acquisition","description":"Problem: ffs-cli currently uses Cx::for_testing() as a placeholder.\n\nGoal: decide how production binaries acquire a Cx (cancellation, deadlines, tracing) and implement it.\n\nDeliverables:\n- A helper in ffs-core or ffs-cli to build a Cx for CLI invocations.\n- Ensure cancellation behavior is testable (SIGINT -> cancel).\n\nAcceptance:\n- inspect and mount use the same Cx acquisition.\n- No test-only APIs are used in production code paths.","status":"closed","priority":1,"issue_type":"task","assignee":"AzureBeaver","created_at":"2026-02-10T03:29:20.263893477Z","created_by":"ubuntu","updated_at":"2026-02-10T16:16:25.541415028Z","closed_at":"2026-02-10T16:16:25.541394239Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["cli"]}
{"id":"bd-5iz","title":"ffs-block: Implement ARC metadata cache (read-only first)","description":"Goal: implement an ARC-like cache wrapper for block reads to reduce random I/O during metadata-heavy operations.\n\nScope (v1):\n- Cache read_block() results (BlockNumber -> BlockBuf).\n- ARC lists: T1/T2 + ghost lists B1/B2; adaptive parameter p.\n- No write-back yet; writes either bypass or invalidate.\n\nKey design questions to answer explicitly:\n- Cache key: BlockNumber only, or (BlockNumber, CommitSeq/Version) for MVCC? (If MVCC needs versioned cache, design now.)\n- Concurrency: avoid holding cache locks while doing disk I/O.\n\nAcceptance:\n- Unit tests cover core ARC transitions (hits/misses/evictions) with deterministic sequences.\n- No deadlocks; no I/O under locks.\n- Benchmarks show cache improves repeated metadata reads on fixture images.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T03:15:43.959932112Z","created_by":"ubuntu","updated_at":"2026-02-10T17:07:09.719979271Z","closed_at":"2026-02-10T17:07:09.719959934Z","close_reason":"ARC cache: fix eviction logic + add transition tests; gates green","source_repo":".","compaction_level":0,"original_size":0,"labels":["io"],"dependencies":[{"issue_id":"bd-5iz","depends_on_id":"bd-14w","type":"blocks","created_at":"2026-02-10T03:16:27.296806735Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-6dl","title":"Track: Docs + Spec Integrity (No Drift, No Phantom Contracts)","description":"Make the documentation set internally consistent and consistent with the workspace. This track exists because implementation cannot proceed safely if types/traits/crate boundaries are contradictory across COMPREHENSIVE_SPEC/PROPOSED_ARCHITECTURE/PLAN/FEATURE_PARITY.\\n\\nAcceptance: (1) cross-doc audit returns no Critical/High contradictions, (2) all referenced crates/files exist, (3) canonical glossary/trait locations are unambiguous, (4) any intentional divergence is explicitly labeled 'illustrative' vs 'normative'.","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-02-10T03:08:19.383649624Z","created_by":"ubuntu","updated_at":"2026-02-11T02:30:30.154565665Z","closed_at":"2026-02-11T02:30:30.154544385Z","close_reason":"Doc integrity sweep: fixed remaining FfsError variant-count drift (14->18) across spec/arch/plan; removed stray 'master' wording; audit rg checks clean","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-6dl","depends_on_id":"bd-126","type":"blocks","created_at":"2026-02-10T03:13:56.949662975Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-6dl","depends_on_id":"bd-1va","type":"blocks","created_at":"2026-02-10T03:13:57.023734986Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-6dl","depends_on_id":"bd-2ds","type":"blocks","created_at":"2026-02-10T03:13:56.500113505Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-6dl","depends_on_id":"bd-2l4","type":"blocks","created_at":"2026-02-10T03:13:56.649526704Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-6dl","depends_on_id":"bd-3bf","type":"blocks","created_at":"2026-02-10T03:35:19.506425155Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-6dl","depends_on_id":"bd-3gt","type":"blocks","created_at":"2026-02-10T03:13:56.725444543Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-6dl","depends_on_id":"bd-3h8","type":"blocks","created_at":"2026-02-10T03:13:56.799958240Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-6dl","depends_on_id":"bd-3hi","type":"blocks","created_at":"2026-02-10T03:13:56.875381332Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-6dl","depends_on_id":"bd-89x","type":"blocks","created_at":"2026-02-10T03:35:19.593236853Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-6dl","depends_on_id":"bd-hv6","type":"blocks","created_at":"2026-02-10T03:13:56.574678369Z","created_by":"ubuntu","metadata":"{}","thread_id":""}],"comments":[{"id":2,"issue_id":"bd-6dl","author":"Dicklesworthstone","text":"Initial known doc/code drift to include in the Errata pass (starting point, not exhaustive):\n\n- Cancelled errno mapping mismatch: COMPREHENSIVE_SPEC currently says EINTR; crates/ffs-error maps to ECANCELED.\n- Parser error taxonomy needs explicit layering: ffs-ondisk returns ParseError today; user-facing layers return FfsError.\n- PLAN references ARCHITECTURE.md and CONVENTIONS.md which do not exist; decide create vs remove.\n\nAudit output should focus on: normative type/trait single-source-of-truth, crate map accuracy vs Cargo.toml, and eliminating phantom contracts/phantom crates.","created_at":"2026-02-10T03:33:45Z"}]}
{"id":"bd-6st","title":"Harness: Establish parity accounting protocol (FEATURE_PARITY.md <-> ParityReport)","description":"Goal: ensure we never lose track of what is implemented.\n\nDeliverables:\n- Define the canonical source of parity totals (FEATURE_PARITY.md) and the canonical source of parity current counts (ffs-harness ParityReport::current).\n- Add a lightweight check/test that FEATURE_PARITY.md numbers match the harness report (or the harness reads the file).\n\nAcceptance:\n- Any PR that changes implemented functionality updates parity in the same change.\n- No more hand-edited divergent numbers.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-10T03:21:18.608385158Z","created_by":"ubuntu","updated_at":"2026-02-10T20:41:07.557633121Z","closed_at":"2026-02-10T20:41:07.557614125Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["harness"]}
{"id":"bd-89x","title":"Docs: Align toolchain/MSRV statements (Rust 2024, nightly toolchain)","description":"Goal: ensure docs do not state an impossible MSRV.\n\nContext:\n- Rust edition 2024 requires Rust >= 1.85.\n- The repo uses rust-toolchain.toml for nightly.\n\nDeliverables:\n- Ensure PLAN/README/COMPREHENSIVE_SPEC consistently state the toolchain policy.\n- If we claim an MSRV, it must be technically compatible with edition + dependencies.\n\nAcceptance:\n- No doc claims a Rust version that cannot compile the workspace.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T03:35:11.239312918Z","created_by":"ubuntu","updated_at":"2026-02-11T02:06:53.885173467Z","closed_at":"2026-02-11T02:06:53.885096573Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["docs"],"dependencies":[{"issue_id":"bd-89x","depends_on_id":"bd-2ds","type":"blocks","created_at":"2026-02-10T03:35:19.764294386Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-8tr","title":"ext4: Implement inode location math helper (inode -> table block + offset)","description":"Goal: given (inode_number, superblock fields, group desc), compute where the inode bytes live on disk.\n\nDeliverables:\n- Pure helper: inode_number -> (group, index_in_group).\n- Use group desc inode_table pointer and inode_size to compute:\n  - table_start_block\n  - inode_byte_offset_from_table_start\n  - absolute byte offset on device\n- Handle ext4 inode numbering rules (inode numbers start at 1; 0 invalid).\n\nAcceptance:\n- Unit tests for boundary inodes: 1, inodes_per_group, inodes_per_group+1, last inode.\n- Overflow/invalid inputs produce ParseError/FfsError (no panics).\n- Helper is used by higher-level inode read code (ffs-inode later).","status":"closed","priority":0,"issue_type":"task","assignee":"AzureBeaver","created_at":"2026-02-10T03:17:15.392537885Z","created_by":"ubuntu","updated_at":"2026-02-10T17:37:56.483745546Z","closed_at":"2026-02-10T17:37:56.483718756Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4"],"dependencies":[{"issue_id":"bd-8tr","depends_on_id":"bd-2w9","type":"blocks","created_at":"2026-02-10T03:18:06.687704093Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-98b","title":"Repair: Expected-loss policy for redundancy + repair (alien-artifact bar)","description":"Goal: choose repair symbol overhead and repair actions using an explicit decision-theoretic model (not heuristics).\n\nDeliverables:\n- Define loss model: corruption cost vs redundancy overhead cost.\n- Maintain posterior over corruption rate (Beta prior) or richer model as needed.\n- Decision rule: choose overhead that minimizes expected loss.\n- Integrate with ffs-core DurabilityAutopilot (or refactor it into ffs-repair if it belongs there).\n\nAcceptance:\n- Policy produces explainable outputs (posterior rate + chosen overhead + expected loss).\n- Harness includes a test that the policy reacts sensibly when corruption events are observed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T03:24:45.985656598Z","created_by":"ubuntu","updated_at":"2026-02-11T01:56:31.419958515Z","closed_at":"2026-02-11T01:56:31.419854611Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["repair"],"dependencies":[{"issue_id":"bd-98b","depends_on_id":"bd-2qf","type":"blocks","created_at":"2026-02-10T03:25:00.757767434Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-b80","title":"Repair: Implement scrub pipeline (detect corruption signals)","description":"Goal: detect corrupted blocks/metadata reliably.\n\nDeliverables:\n- Define signals:\n  - ext4 metadata_csum / btrfs csum verification failures\n  - structural invariant violations (bounds, tree ordering)\n- Implement ScrubReport with per-block findings and severity.\n\nAcceptance:\n- Harness can inject corruption (flip bit) and scrub reports it deterministically.\n- Scrub does not panic on corrupted data; it returns structured findings.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T03:24:28.702412790Z","created_by":"ubuntu","updated_at":"2026-02-11T01:27:16.268015147Z","closed_at":"2026-02-11T01:27:16.267938143Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["repair"],"dependencies":[{"issue_id":"bd-b80","depends_on_id":"bd-25k","type":"blocks","created_at":"2026-02-10T03:25:00.916224379Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-b80","depends_on_id":"bd-2vt","type":"blocks","created_at":"2026-02-10T03:25:00.995317684Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-c35","title":"Track: Harness + Conformance + Parity Accounting (ffs-harness)","description":"Build the proof system: fixture generation, comparisons against Linux behavior where applicable, parity reporting, and regression gates.\\n\\nAcceptance: every implemented behavior has (1) a fixture or property test, (2) a harness test that exercises it end-to-end, (3) FEATURE_PARITY + harness parity numbers updated in the same change. Benchmarks are added only after fixtures exist.","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-02-10T03:08:52.148014837Z","created_by":"ubuntu","updated_at":"2026-02-11T03:28:15.385993623Z","closed_at":"2026-02-11T03:28:15.385971391Z","close_reason":"All 5 sub-tasks closed: ext4 fixtures (bd-2zg), parity accounting (bd-6st), fixture workflow (bd-3q4), kernel reference capture (bd-2ij), btrfs fixtures (bd-2yi).","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-c35","depends_on_id":"bd-2ij","type":"blocks","created_at":"2026-02-10T03:21:53.179975971Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-c35","depends_on_id":"bd-2yi","type":"blocks","created_at":"2026-02-10T03:21:53.099617897Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-c35","depends_on_id":"bd-2zg","type":"blocks","created_at":"2026-02-10T03:21:53.014650837Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-c35","depends_on_id":"bd-3q4","type":"blocks","created_at":"2026-02-10T03:21:52.923718680Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-c35","depends_on_id":"bd-6st","type":"blocks","created_at":"2026-02-10T03:21:52.825671893Z","created_by":"ubuntu","metadata":"{}","thread_id":""}],"comments":[{"id":8,"issue_id":"bd-c35","author":"Dicklesworthstone","text":"ffs-harness is the proof engine.\n\nRules:\n- every new behavior needs fixtures or properties\n- parity numbers must match FEATURE_PARITY.md\n- only optimize after correctness vectors exist\n\nWithout this track, progress becomes vibes instead of verified parity.","created_at":"2026-02-10T03:34:39Z"}]}
{"id":"bd-ece","title":"ffs-block: Cache metrics + instrumentation surface","description":"Goal: expose cache behavior to harness/CLI/TUI so performance work is evidence-based.\n\nDeliverables:\n- CacheMetrics struct: hit/miss counts, evictions, current list sizes, p value.\n- A cheap snapshot method to read metrics without heavy locks.\n- Optional tracing hooks gated behind feature flag.\n\nAcceptance:\n- Metrics can be queried from ffs-core and printed by ffs-cli inspect.\n- Metrics are used by benchmarks to assert improvements are real (not noise).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T03:15:53.854812013Z","created_by":"ubuntu","updated_at":"2026-02-10T20:49:40.556955612Z","closed_at":"2026-02-10T20:49:40.556929884Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["io"],"dependencies":[{"issue_id":"bd-ece","depends_on_id":"bd-5iz","type":"blocks","created_at":"2026-02-10T03:16:26.979686708Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-g30","title":"Track: CLI + TUI (ffs-cli + ffs-tui)","description":"Provide operator tooling: CLI subcommands (inspect/info/fsck/mount), and a frankentui-based dashboard to observe cache/MVCC/repair stats.\\n\\nAcceptance: CLI is the primary UX for harness + debugging; TUI can attach to a running mount to show internal metrics. Both must be deterministic/testable and use ffs-core as the integration surface.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-02-10T03:09:24.040606496Z","created_by":"ubuntu","updated_at":"2026-02-11T03:44:14.103200953Z","closed_at":"2026-02-11T03:44:14.103175686Z","close_reason":"All sub-tasks complete: clap CLI, mount, fsck/scrub, TUI dashboard","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-g30","depends_on_id":"bd-23n","type":"blocks","created_at":"2026-02-10T03:29:55.362716892Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-g30","depends_on_id":"bd-23r","type":"blocks","created_at":"2026-02-10T03:29:55.620739199Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-g30","depends_on_id":"bd-2fs","type":"blocks","created_at":"2026-02-10T03:29:55.448460236Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-g30","depends_on_id":"bd-3sk","type":"blocks","created_at":"2026-02-10T03:30:12.268311230Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-g30","depends_on_id":"bd-3sp","type":"blocks","created_at":"2026-02-10T03:30:12.183821788Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-g30","depends_on_id":"bd-3vn","type":"blocks","created_at":"2026-02-10T03:29:55.275857697Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-g30","depends_on_id":"bd-m35","type":"blocks","created_at":"2026-02-10T03:29:55.535816523Z","created_by":"ubuntu","metadata":"{}","thread_id":""}],"comments":[{"id":13,"issue_id":"bd-g30","author":"Dicklesworthstone","text":"Operator UX track.\n\nCLI is the debugging and automation surface:\n- stable JSON output options\n- mount/fsck workflows\n- parity/stats commands\n\nTUI is phased and depends on metrics surfaces from cache/MVCC/repair.","created_at":"2026-02-10T03:34:39Z"}]}
{"id":"bd-hks","title":"ffs-block: Plan write-back cache + dirty tracking (phased)","description":"Future-facing task: define how cached writes become durable.\n\nDeliverables:\n- DirtyTracker design: which blocks are dirty, ordering constraints, flush scheduling.\n- Interaction with MVCC: versioned writes vs overwriting.\n- Failure/cancellation semantics (fsync, flush on close, etc).\n\nAcceptance:\n- A concrete design exists in docs/spec before any write-back code is added.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-10T03:16:07.481262948Z","created_by":"ubuntu","updated_at":"2026-02-11T03:48:46.342359407Z","closed_at":"2026-02-11T03:48:46.342335122Z","close_reason":"Design doc created at docs/design-writeback-cache.md with 3-phase plan: DirtyTracker, FlushDaemon, MVCC integration","source_repo":".","compaction_level":0,"original_size":0,"labels":["io"],"dependencies":[{"issue_id":"bd-hks","depends_on_id":"bd-220","type":"blocks","created_at":"2026-02-10T03:16:27.218279466Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-hks","depends_on_id":"bd-5iz","type":"blocks","created_at":"2026-02-10T03:16:27.135355880Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-hrv","title":"MVCC: Deterministic concurrency tests (asupersync lab runtime)","description":"Goal: make MVCC correctness testable under controlled schedules.\n\nDeliverables:\n- Add tests that run transactions under deterministic scheduling (asupersync lab runtime) and explore interleavings.\n- Encode invariants: snapshot visibility, FCW conflicts, no lost updates.\n- Add at least one regression test for a known anomaly pattern (write skew) once SSI is introduced.\n\nAcceptance:\n- Tests are deterministic and non-flaky.\n- A small set of schedules is enough to reproduce bugs reliably.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T03:22:40.713789731Z","created_by":"ubuntu","updated_at":"2026-02-11T01:33:22.088331821Z","closed_at":"2026-02-11T01:33:22.088246271Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["mvcc"],"dependencies":[{"issue_id":"bd-hrv","depends_on_id":"bd-19k","type":"blocks","created_at":"2026-02-10T03:23:53.264230369Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-hrv","depends_on_id":"bd-2t1","type":"blocks","created_at":"2026-02-10T03:23:53.183269997Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-hv6","title":"Docs: Canonicalize normative type definitions (single source + cross-links)","description":"Goal: ensure every core type has ONE normative definition and every other doc reference links to it (no divergent signatures/field types).\\n\\nScope (must be covered):\\n- ffs-types: BlockNumber, BlockSize (to add), ByteOffset (to add), InodeNumber (u64 canonical), TxnId, CommitSeq, Snapshot, GroupNumber (to add), DeviceId (to add), Generation (to add)\\n- Parsing errors: ParseError and mapping boundary to FfsError\\n- Any MVCC identifiers (TxnId/CommitSeq) must not fork into TxId/Lsn synonyms unless explicitly aliased.\\n\\nDeliverables:\\n- Choose canonical source locations (prefer ffs-types + COMPREHENSIVE_SPEC glossary).\\n- Replace all other duplicate definitions with 'see <canonical section>'.\\n\\nAcceptance:\\n- rg finds no conflicting alternative definitions of these names in docs.\\n- Any intentional alias is documented once (e.g. 'TxnId and TxId are the same; we standardize on TxnId').","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-10T03:12:39.148878165Z","created_by":"ubuntu","updated_at":"2026-02-11T02:23:47.119885446Z","closed_at":"2026-02-11T02:23:47.119866560Z","close_reason":"Canonicalized core newtype mentions across docs (removed duplicate MVCC type block in spec ยง1.3; updated ffs-types type lists; removed MVCC LSN synonyms in plan)","source_repo":".","compaction_level":0,"original_size":0,"labels":["docs"],"dependencies":[{"issue_id":"bd-hv6","depends_on_id":"bd-2ds","type":"blocks","created_at":"2026-02-10T03:14:05.300116625Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-kdk","title":"btrfs: Implement single-device logical->physical mapping (sys_chunk only)","description":"Goal: given a logical bytenr, map it to (device_id, physical_bytenr) using only the sys_chunk_array bootstrap data.\n\nScope (v1):\n- single-device images only\n- only mapping via sys_chunk_array (enough to read the chunk tree/root tree)\n\nDeliverables:\n- Parse chunk items from sys_chunk_array.\n- Implement map(logical) -> physical (with bounds checking).\n\nAcceptance:\n- Fixture test: pick known logical addresses (superblock.root, superblock.chunk_root) and verify mapping lands inside the device.\n- No panics; invalid mapping returns ParseError/Format.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T03:18:42.802564278Z","created_by":"ubuntu","updated_at":"2026-02-10T20:06:19.809203889Z","closed_at":"2026-02-10T20:06:19.809180495Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["btrfs"],"dependencies":[{"issue_id":"bd-kdk","depends_on_id":"bd-2vt","type":"blocks","created_at":"2026-02-10T03:19:11.407714905Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-m35","title":"CLI: Implement fsck/scrub command (read-only integrity scan)","description":"Goal: provide an operator-visible integrity scan that runs scrub and prints a report.\n\nDeliverables:\n- ffs-cli fsck/scrub <image> [--json]\n- Use ffs-repair scrub pipeline to produce ScrubReport.\n\nAcceptance:\n- On a clean fixture image: report is empty or low severity.\n- On a corrupted fixture: report includes the corrupted block and reason.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T03:29:40.911287475Z","created_by":"ubuntu","updated_at":"2026-02-11T01:33:39.974350937Z","closed_at":"2026-02-11T01:33:39.974230282Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["cli","repair"],"dependencies":[{"issue_id":"bd-m35","depends_on_id":"bd-3vn","type":"blocks","created_at":"2026-02-10T03:30:05.869432040Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-m35","depends_on_id":"bd-b80","type":"blocks","created_at":"2026-02-10T03:30:05.783412328Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-o76","title":"btrfs: Implement initial read-only tree-walk (root -> items iterator)","description":"Goal: given a btrfs superblock and a logical->physical mapper, implement a minimal tree traversal that can enumerate items in a tree (starting with root tree).\n\nDeliverables:\n- Read root node at superblock.root (using mapper + BlockDevice).\n- Descend internal nodes by key ranges until leaf.\n- Iterate leaf items and expose (BtrfsKey, payload slice) to higher layers.\n\nAcceptance:\n- Can enumerate some items from a real btrfs image (fixture) without panics.\n- Traversal is deterministic and fully bounds-checked.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T03:18:59.474306677Z","created_by":"ubuntu","updated_at":"2026-02-10T20:26:58.096706918Z","closed_at":"2026-02-10T20:26:58.096682512Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["btrfs"],"dependencies":[{"issue_id":"bd-o76","depends_on_id":"bd-1fo","type":"blocks","created_at":"2026-02-10T03:19:11.552636857Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-o76","depends_on_id":"bd-kdk","type":"blocks","created_at":"2026-02-10T03:19:11.482040240Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-owq","title":"ffs-error: Define canonical error taxonomy + mapping boundaries","description":"Goal: make error handling consistent across layers:\n- ffs-ondisk returns ParseError (pure parsing)\n- ffs-core/ffs-fuse/ffs-cli return FfsError (user-facing)\n\nDeliverables:\n- Document the mapping from ParseError -> FfsError (which variants, and when we preserve details).\n- Ensure ffs-error stays independent of ffs-ondisk (avoid cyclic deps).\n- Update docs to reference the canonical listing in crates/ffs-error/src/lib.rs.\n\nAcceptance:\n- No doc section lists a different FfsError variant set than the code.\n- FUSE errno mapping is complete and matches chosen policy.","status":"closed","priority":0,"issue_type":"task","assignee":"AzureBeaver","created_at":"2026-02-10T03:14:37.381664627Z","created_by":"ubuntu","updated_at":"2026-02-10T08:51:43.466728917Z","closed_at":"2026-02-10T08:51:43.466701065Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation"]}
{"id":"bd-p1l","title":"Perf: Golden outputs + isomorphism proof protocol for optimizations","description":"Goal: enforce the extreme-software-optimization loop.\n\nDeliverables:\n- Define which commands produce golden outputs (JSON reports, fixture parse summaries).\n- Store sha256 checksums for goldens.\n- Require an isomorphism proof note for each optimization (ordering preserved, tie-breaking unchanged, etc.).\n\nAcceptance:\n- There is a repeatable command to verify goldens before/after.\n- Optimization PRs cannot \"accidentally\" change behavior without detection.","status":"closed","priority":2,"issue_type":"task","owner":"PinkCreek","created_at":"2026-02-10T03:30:48.769379006Z","created_by":"ubuntu","updated_at":"2026-02-11T02:43:55.310367049Z","closed_at":"2026-02-11T02:43:55.310340298Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["harness","perf"],"dependencies":[{"issue_id":"bd-p1l","depends_on_id":"bd-6st","type":"blocks","created_at":"2026-02-10T03:31:10.590283149Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-q0g","title":"ext4 semantics: Implement permission/uid/gid + mode mapping details [phased]","description":"Future task: ensure getattr reports correct permission bits and ownership, and FUSE enforces them where appropriate.\n\nDeliverables:\n- Map inode mode bits to POSIX file types + permissions.\n- Surface uid/gid correctly (including high bits).\n\nAcceptance:\n- getattr output matches kernel for a fixture inode set.","status":"closed","priority":3,"issue_type":"task","owner":"PinkCreek","created_at":"2026-02-10T03:27:47.212225418Z","created_by":"ubuntu","updated_at":"2026-02-11T03:22:20.184893543Z","closed_at":"2026-02-11T03:22:20.184870791Z","close_reason":"Implemented device_number/major/minor on Ext4Inode, wired rdev in inode_to_attr. uid/gid/permissions were already correct. 8 tests added.","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4","semantics"],"dependencies":[{"issue_id":"bd-q0g","depends_on_id":"bd-10t","type":"blocks","created_at":"2026-02-10T03:28:01.896707087Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-q0g","depends_on_id":"bd-3qq","type":"blocks","created_at":"2026-02-10T03:28:01.815846651Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-sik","title":"ffs-types: Checked arithmetic + alignment helpers (block math, offsets)","description":"Goal: centralize all tricky integer math used by on-disk parsing and block mapping.\n\nDeliverables:\n- checked_add_bytes(offset, len) -> ByteOffset end\n- checked_mul_block(block_nr, block_size) -> ByteOffset\n- align_down/align_up helpers with overflow checking\n- conversions with explicit error paths (no silent truncation)\n\nAcceptance:\n- Unit tests cover overflow/edge cases.\n- Call sites in ffs-block/ffs-ondisk/ffs-core prefer these helpers over ad-hoc math.","status":"closed","priority":1,"issue_type":"task","assignee":"AzureBeaver","created_at":"2026-02-10T03:14:24.565357285Z","created_by":"ubuntu","updated_at":"2026-02-10T08:41:43.432870696Z","closed_at":"2026-02-10T08:41:43.432852562Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["foundation"]}
{"id":"bd-tnu","title":"Docs: Add AGENTS.md playbooks (cass rituals + alien artifact + optimization)","description":"Goal: make agent workflow more repeatable by adding short, high-signal playbooks to AGENTS.md.\n\nDeliverables:\n- Session-start ritual (cass-mined prompts) + command checklist.\n- Cass archaeology workflow (status/index/search/view/expand/context).\n- Alien-artifact elicitation prompt + evidence-ledger / loss-matrix reminder.\n- Extreme optimization protocol: baseline/profile/isomorphism proof + golden checksums.\n- Porting-to-rust essence extraction checklist (spec-first, conformance-first).\n\nAcceptance:\n- AGENTS.md gains a new Playbooks section with copy-paste-ready snippets.\n- No contradictory guidance vs existing rules (no file deletion, no destructive commands, use cargo, run gates).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T17:26:00.865935325Z","created_by":"QuietFalcon","updated_at":"2026-02-10T17:27:13.879183709Z","closed_at":"2026-02-10T17:27:13.879154274Z","close_reason":"Add playbooks to AGENTS.md (cass workflow, alien artifact prompt, optimization loop, porting checklist)","source_repo":".","compaction_level":0,"original_size":0,"labels":["docs"]}
{"id":"bd-vgu","title":"FUSE: Add fuser dependency + skeleton Filesystem impl delegating to FsOps","description":"Goal: make ffs-fuse a thin adapter: kernel FUSE requests -> internal FsOps.\n\nDeliverables:\n- Add fuser crate dependency (phase-gated if needed).\n- Implement fuser::Filesystem with stubs that call into a boxed FsOps.\n- Ensure all errors map through FfsError::to_errno().\n\nAcceptance:\n- cargo test passes with fuser integrated.\n- The filesystem can be mounted in a no-op mode (returns ENOSYS for unimplemented ops).","status":"closed","priority":1,"issue_type":"task","assignee":"AzureBeaver","created_at":"2026-02-10T03:28:25.716873087Z","created_by":"ubuntu","updated_at":"2026-02-10T17:03:51.276679325Z","closed_at":"2026-02-10T17:03:51.276651664Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["fuse"],"dependencies":[{"issue_id":"bd-vgu","depends_on_id":"bd-2tq","type":"blocks","created_at":"2026-02-10T03:28:51.835670432Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-vgu","depends_on_id":"bd-3is","type":"blocks","created_at":"2026-02-10T03:28:51.923969054Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-wse","title":"ext4 semantics: Implement symlink handling (fast/slow) [phased]","description":"Future task: support symlinks.\n\nDeliverables:\n- Fast symlinks stored inline in inode i_block.\n- Slow symlinks stored as file data.\n\nAcceptance:\n- readlink works in harness/FUSE on a fixture symlink.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-10T03:26:33.602112189Z","created_by":"ubuntu","updated_at":"2026-02-10T19:52:24.738156191Z","closed_at":"2026-02-10T19:52:24.738138448Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4","semantics"],"dependencies":[{"issue_id":"bd-wse","depends_on_id":"bd-10t","type":"blocks","created_at":"2026-02-10T03:28:01.570813210Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-wse","depends_on_id":"bd-2q7","type":"blocks","created_at":"2026-02-10T03:28:01.649820965Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-ye4","title":"ext4 semantics: Implement extent mapping (ffs-extent) for regular files","description":"Goal: map file logical offsets to physical blocks using the ext4 extent tree.\n\nDeliverables:\n- ffs-extent: a function that takes an inode extent root and returns an iterator of (logical_block -> physical_start,len,unwritten?).\n- Support depth>0 extent trees by reading extent blocks from disk (requires BlockDevice).\n- Provide a read_extent_at(file_block) helper for file reads.\n\nAcceptance:\n- Tests cover: leaf-only extents and index+leaf extents.\n- Verified on a fixture file with known extents (compare to debugfs stats or golden outputs).","status":"closed","priority":1,"issue_type":"task","assignee":"AzureBeaver","created_at":"2026-02-10T03:25:46.487585491Z","created_by":"ubuntu","updated_at":"2026-02-10T19:36:21.615868955Z","closed_at":"2026-02-10T19:36:21.615851281Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"labels":["ext4","semantics"],"dependencies":[{"issue_id":"bd-ye4","depends_on_id":"bd-10t","type":"blocks","created_at":"2026-02-10T03:27:33.350893907Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-ye4","depends_on_id":"bd-3qq","type":"blocks","created_at":"2026-02-10T03:27:33.455657288Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-z7n","title":"Track: Foundations (ffs-types + ffs-error)","description":"Define canonical newtypes, parsing primitives, and error model that every other crate depends on.\\n\\nAcceptance: all normative types (BlockNumber, BlockSize, InodeNumber strategy, TxnId/CommitSeq/Snapshot, ByteOffset, DeviceId, etc.) exist in ffs-types with documented invariants; ffs-error has stable variant set + errno mapping used by FUSE. All other crates use these types (no local duplicates).","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-02-10T03:08:25.718123153Z","created_by":"ubuntu","updated_at":"2026-02-10T16:01:32.112602115Z","closed_at":"2026-02-10T16:01:32.112583771Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-z7n","depends_on_id":"bd-14w","type":"blocks","created_at":"2026-02-10T03:15:03.228334190Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-z7n","depends_on_id":"bd-1ds","type":"blocks","created_at":"2026-02-10T03:15:03.370722205Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-z7n","depends_on_id":"bd-2oa","type":"blocks","created_at":"2026-02-10T03:15:03.603178334Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-z7n","depends_on_id":"bd-3hr","type":"blocks","created_at":"2026-02-10T03:15:03.526401085Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-z7n","depends_on_id":"bd-owq","type":"blocks","created_at":"2026-02-10T03:15:03.446053435Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-z7n","depends_on_id":"bd-sik","type":"blocks","created_at":"2026-02-10T03:15:03.299955368Z","created_by":"ubuntu","metadata":"{}","thread_id":""}],"comments":[{"id":3,"issue_id":"bd-z7n","author":"Dicklesworthstone","text":"Why this track is first-class: filesystem bugs love unit confusion (bytes vs blocks) and inconsistent error semantics (silent truncation, wrong errno).\n\nNorth star:\n- ffs-types: strong newtypes + checked arithmetic so invariants are enforced at compile time.\n- ffs-error: a stable user-facing error set + errno mapping for FUSE.\n\nIf this track is sloppy, every other track becomes untestable and unsafe.","created_at":"2026-02-10T03:34:38Z"}]}
{"id":"bd-zge","title":"Epic: Write Path (alloc + journal + MVCC integration) [future]","description":"Future epic: implement writes in a way that preserves ext4 observable contract but uses FrankenFS internals (MVCC/COW).\n\nScope:\n- allocation (ffs-alloc)\n- journal / replay (ffs-journal)\n- inode updates, directory updates\n- fsync semantics\n\nAcceptance:\n- Controlled write workloads run without corruption and with conformance tests.","status":"open","priority":3,"issue_type":"epic","created_at":"2026-02-10T03:27:06.048285176Z","created_by":"ubuntu","updated_at":"2026-02-10T03:27:06.048285176Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["semantics"]}
{"id":"bd-zge.1","title":"ffs-btree: Implement generic in-memory B+tree (insert, delete, search, split, merge)","description":"Generic B+tree with configurable fanout. Operations: insert, delete, search, range-scan, split, merge. Used by extent tree and potentially directory htree. Pure data structure, no I/O. Acceptance: insert/delete/search work correctly with property tests for tree invariants (sorted keys, balanced depth, correct splits).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T03:52:02.063269844Z","created_by":"ubuntu","updated_at":"2026-02-11T05:46:04.707803885Z","closed_at":"2026-02-11T05:46:04.707782275Z","close_reason":"Implemented ext4 extent B+tree with search, insert, delete, walk. 14 tests passing.","source_repo":".","compaction_level":0,"original_size":0,"labels":["semantics"],"dependencies":[{"issue_id":"bd-zge.1","depends_on_id":"bd-zge","type":"parent-child","created_at":"2026-02-11T03:52:02.063269844Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-zge.2","title":"ffs-alloc: Implement block/inode allocation (bitmap management, buddy allocator, mballoc)","description":"Block and inode allocation subsystem. Phase 1: bitmap read/write (block group bitmaps). Phase 2: buddy allocator (order-0 to order-13). Phase 3: mballoc goal-directed allocation. Phase 4: Orlov inode allocator. Depends on ffs-block (BlockDevice) and ffs-ondisk (Ext4GroupDesc, Ext4Superblock). Acceptance: can allocate/free blocks and inodes correctly, bitmap state stays consistent.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T03:52:07.766831467Z","created_by":"ubuntu","updated_at":"2026-02-11T05:52:48.477720896Z","closed_at":"2026-02-11T05:52:48.477702702Z","close_reason":"Implemented: bitmap ops, group stats, block alloc (goal-directed), inode alloc (Orlov), 18 tests passing","source_repo":".","compaction_level":0,"original_size":0,"labels":["semantics"],"dependencies":[{"issue_id":"bd-zge.2","depends_on_id":"bd-zge","type":"parent-child","created_at":"2026-02-11T03:52:07.766831467Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-zge.3","title":"ffs-journal: Implement JBD2 replay + native COW journal","description":"Journal subsystem. Phase 1: JBD2 journal replay at mount (descriptor/commit/revoke block parsing, forward scan, replay). Phase 2: Native COW journal using MVCC version store (commit_seq-based, flush watermark). Depends on ffs-block, ffs-mvcc, ffs-ondisk. Acceptance: JBD2 replay recovers committed transactions from journal area; native COW journal survives simulated crash+recovery.","notes":"Implemented JBD2 replay engine in crates/ffs-journal (descriptor/commit/revoke parsing, staged transaction replay on commit, revoke filtering) and native append-only COW journal (write+commit records, crash-safe recovery of committed sequences, replay onto block device). Added 6 unit tests covering committed replay, revoke behavior, uncommitted drop, COW recovery, COW replay, and tail discovery. Verified with: cargo test -p ffs-journal; cargo check --all-targets; cargo clippy --all-targets -- -D warnings; cargo test --workspace. workspace cargo fmt --check currently reports unrelated pre-existing formatting diffs outside this bead; cargo fmt -p ffs-journal --check passes.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T03:52:13.243461752Z","created_by":"ubuntu","updated_at":"2026-02-11T06:20:00.235462139Z","closed_at":"2026-02-11T06:20:00.235380516Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["semantics"],"dependencies":[{"issue_id":"bd-zge.3","depends_on_id":"bd-zge","type":"parent-child","created_at":"2026-02-11T03:52:13.243461752Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-zge.4","title":"ffs-extent: Implement extent tree write operations (allocate, truncate, punch hole)","description":"Extent tree mutation operations. allocate_extent() via ffs-alloc, truncate_extents() to free blocks, punch_hole() for fallocate(PUNCH_HOLE), mark_written() for unwritten extents. Depends on ffs-btree (tree structure) and ffs-alloc (block allocation). Acceptance: can grow/shrink/punch files via extent tree, tree invariants preserved.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T03:52:21.829148472Z","created_by":"ubuntu","updated_at":"2026-02-11T06:03:32.120662425Z","closed_at":"2026-02-11T06:03:32.120645744Z","close_reason":"Implemented: map, allocate, truncate, punch_hole, mark_written, GroupBlockAllocator adapter, 12 tests passing","source_repo":".","compaction_level":0,"original_size":0,"labels":["semantics"],"dependencies":[{"issue_id":"bd-zge.4","depends_on_id":"bd-zge","type":"parent-child","created_at":"2026-02-11T03:52:21.829148472Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-zge.4","depends_on_id":"bd-zge.1","type":"blocks","created_at":"2026-02-11T03:52:21.829148472Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-zge.4","depends_on_id":"bd-zge.2","type":"blocks","created_at":"2026-02-11T03:52:21.829148472Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-zge.5","title":"ffs-inode: Implement inode lifecycle (create, delete, update, serialize, checksum)","description":"Inode write operations. create_inode() with Orlov allocation, delete_inode() freeing blocks+inode, write_inode() serialization with CRC32C checksum, timestamp management (atime/mtime/ctime/crtime with nanoseconds). Depends on ffs-alloc (inode allocation) and ffs-extent (block management). Acceptance: create/delete/update inodes round-trips correctly with checksum verification.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T03:52:27.665573751Z","created_by":"ubuntu","updated_at":"2026-02-11T06:13:08.148014951Z","closed_at":"2026-02-11T06:13:08.147996486Z","close_reason":"verified complete: inode lifecycle APIs + checksum write/read + unit tests passing","source_repo":".","compaction_level":0,"original_size":0,"labels":["semantics"],"dependencies":[{"issue_id":"bd-zge.5","depends_on_id":"bd-zge","type":"parent-child","created_at":"2026-02-11T03:52:27.665573751Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-zge.5","depends_on_id":"bd-zge.2","type":"blocks","created_at":"2026-02-11T03:52:27.665573751Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-zge.5","depends_on_id":"bd-zge.4","type":"blocks","created_at":"2026-02-11T03:52:27.665573751Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-zge.6","title":"ffs-dir: Implement directory write operations (add/remove entry, htree insert/delete)","description":"Directory mutation operations. add_entry() with rec_len management, remove_entry() coalescing free space, htree insert/delete with node split/merge, mkdir initialization (. and .. entries). Depends on ffs-inode (inode creation for new dirs). Acceptance: can create/remove directory entries, htree operations preserve hash ordering.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T03:52:32.729027526Z","created_by":"ubuntu","updated_at":"2026-02-11T06:18:26.230109534Z","closed_at":"2026-02-11T06:18:26.230087674Z","close_reason":"implemented dir add/remove/init + htree insert/remove/find; validated with cargo test -p ffs-dir and cargo clippy -p ffs-dir --all-targets -- -D warnings","source_repo":".","compaction_level":0,"original_size":0,"labels":["semantics"],"dependencies":[{"issue_id":"bd-zge.6","depends_on_id":"bd-zge","type":"parent-child","created_at":"2026-02-11T03:52:32.729027526Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-zge.6","depends_on_id":"bd-zge.5","type":"blocks","created_at":"2026-02-11T03:52:32.729027526Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-zge.7","title":"ffs-xattr: Implement extended attribute write operations (set/remove inline + external block)","description":"Extended attribute mutation. set_xattr() for inline (ibody) and external block xattrs, remove_xattr(), namespace permission checks, size limit enforcement. Depends on ffs-inode (inode update for ibody xattrs). Acceptance: can set/remove xattrs in both inline and external block modes, size limits enforced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T03:52:37.886140968Z","created_by":"ubuntu","updated_at":"2026-02-11T06:25:23.553784754Z","closed_at":"2026-02-11T06:25:23.553765748Z","close_reason":"implemented ffs-xattr set/remove/list/get with inline+external storage routing, namespace permission checks, and size limits; validated via cargo test -p ffs-xattr and cargo clippy -p ffs-xattr --all-targets -- -D warnings","source_repo":".","compaction_level":0,"original_size":0,"labels":["semantics"],"dependencies":[{"issue_id":"bd-zge.7","depends_on_id":"bd-zge","type":"parent-child","created_at":"2026-02-11T03:52:37.886140968Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-zge.7","depends_on_id":"bd-zge.5","type":"blocks","created_at":"2026-02-11T03:52:37.886140968Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-zge.8","title":"ffs-core: Integrate ffs-journal replay into ext4 mount path + crash-recovery conformance","description":"Goal: make journal replay observable to users by wiring the new ffs-journal engine into the ext4 open/mount pipeline and proving behavior with deterministic crash-recovery tests.\n\nScope:\n- Integrate replay_jbd2 invocation into ffs-core ext4 open flow behind compatibility-mode guard.\n- Define journal-region discovery from ext4 superblock metadata (journal inode/device pointers) with explicit unsupported-mode errors.\n- Surface replay metrics (ReplayStats) through engine diagnostics/logging path for auditable mount decisions.\n- Add unit tests for integration glue (invocation conditions, error mapping, no-op behavior when journal absent).\n- Add harness-level crash/recovery test flow that simulates committed and uncommitted journal transactions and verifies post-mount state.\n- Add detailed structured logging lines for replay decisions and outcomes (scanned, committed, revoked, skipped).\n\nAcceptance:\n- Mount/open of ext4 fixture with journal transactions replays committed updates and ignores uncommitted/revoked updates.\n- cargo test -p ffs-core and cargo test -p ffs-harness -- --nocapture include replay-path coverage with deterministic assertions.\n- Logs contain machine-parseable replay summary fields suitable for CI diagnostics.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-02-11T06:21:35.744999433Z","created_by":"ubuntu","updated_at":"2026-02-11T06:21:48.399672581Z","source_repo":".","compaction_level":0,"original_size":0,"labels":["conformance","semantics"],"dependencies":[{"issue_id":"bd-zge.8","depends_on_id":"bd-zge","type":"parent-child","created_at":"2026-02-11T06:21:35.744999433Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-zge.8","depends_on_id":"bd-zge.3","type":"blocks","created_at":"2026-02-11T06:21:35.744999433Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
